(this["webpackJsonplibrarize-it-client"]=this["webpackJsonplibrarize-it-client"]||[]).push([[0],{130:function(e,t,a){},160:function(e,t,a){},198:function(e,t,a){},251:function(e,t,a){},274:function(e,t,a){},275:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(51),s=a.n(c),i=(a(198),a(14)),o=a.n(i),l=a(17),u=a(15),d=a(7),b=a(161),j=a.n(b),h=(a(251),a(16)),x=a.n(h),p=a(0),m=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),a=t[0],n=t[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://assets6.lottiefiles.com/packages/lf20_irdkrpwy.json");case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var c={loop:!0,autoplay:!0,animationData:a,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return Object(p.jsxs)("div",{className:"loading",children:[Object(p.jsx)(j.a,{options:c,height:"50vw",width:"50vw"}),Object(p.jsxs)("p",{children:["Reading through",Object(p.jsx)("br",{}),"all the pages..."]})]})},O="http://librarize.it/api",f=a(170),g=a(340),v=a(341),w=a(316),y=a(342),k=a(283),C=a(328),N=a(337),S=a(338),D=a(18),P=Object(r.createContext)();function I(e){var t=Object(r.useState)(null),a=Object(d.a)(t,2),n=a[0],c=a[1];return Object(p.jsx)(P.Provider,{value:{error:n,setError:c},children:e.children})}a(95);var F=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var U=function(e){var t=Object(r.useContext)(P).error,a=Object(r.useState)(null),n=Object(d.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(null),o=Object(d.a)(i,2),l=o[0],u=o[1],b=Object(r.useState)(null),j=Object(d.a)(b,2),h=j[0],x=j[1];return Object(r.useEffect)((function(){t&&(t.username?s(t.username):t.email?u(t.email):t.password&&x(t.password))}),[t]),Object(p.jsx)(g.a,{theme:F,children:Object(p.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)(w.a,{}),Object(p.jsxs)(y.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)(k.a,{component:"h1",variant:"h6",align:"center",children:"To turn the page and get entrance to the magical library please tell us some things about you"}),Object(p.jsxs)(y.a,{component:"form",onSubmit:e.onSignUp,noValidate:!0,sx:{mt:1},children:[Object(p.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoFocus:!0,helperText:c||"",error:!!c}),Object(p.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",helperText:l||"",error:!!l}),Object(p.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:h||"",error:!!h}),Object(p.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"current-password",helperText:h||"",error:!!h}),Object(p.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,mr:"35%",ml:"35%",width:"30%"},children:"Sign Up"}),Object(p.jsx)(S.a,{container:!0,children:Object(p.jsx)(S.a,{item:!0,margin:"auto",children:Object(p.jsx)(D.b,{to:"/login",className:"link",children:"Already have an account? Log In instead"})})})]})]})]})})},L=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var R=function(e){var t=Object(r.useContext)(P).error,a=Object(r.useState)(null),n=Object(d.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(null),o=Object(d.a)(i,2),l=o[0],u=o[1];return Object(r.useEffect)((function(){t&&(t.username?s(t.username):t.password&&u(t.password))}),[t]),Object(p.jsx)(g.a,{theme:L,children:Object(p.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)(w.a,{}),Object(p.jsxs)(y.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsxs)(k.a,{component:"h1",variant:"h5",align:"center",children:["To re-enter the book world",Object(p.jsx)("br",{}),"please log in"]}),Object(p.jsxs)(y.a,{component:"form",onSubmit:e.onLogIn,noValidate:!0,sx:{mt:1},children:[Object(p.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,helperText:c||"",error:!!c}),Object(p.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:l||"",error:!!l}),Object(p.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,mr:"35%",ml:"35%",width:"30%"},children:"Log In"}),Object(p.jsx)(S.a,{container:!0,children:Object(p.jsx)(S.a,{item:!0,margin:"auto",children:Object(p.jsx)(D.b,{to:"/signup",className:"link",children:"Don't have an account? Sign Up here"})})})]})]})]})})},T=a(345),A=a(346),z=a(347),W=a(171),E=a(335),_=a(165),B=a.n(_),M=a(164),V=a.n(M),q=(a(130),Object(r.createContext)());function H(e){var t=Object(r.useState)(null),a=Object(d.a)(t,2),n=a[0],c=a[1];return Object(p.jsx)(q.Provider,{value:{user:n,setUser:c},children:e.children})}var Y=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#8dd7cf",contrastText:"#6e6e6e"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}}),G=[{name:"Home",path:"/"},{name:"Log In",path:"/login"},{name:"Sign Up",path:"/signup"}];var J=function(e){var t=r.useContext(q).user,a=r.useState(null),n=Object(d.a)(a,2),c=n[0],s=n[1],i=r.useContext(P).setError,o="",l="";t&&(o="hidden",l="logout");var u=function(){s(null),i(null)};return Object(p.jsx)(g.a,{theme:Y,children:Object(p.jsx)(T.a,{position:"static",children:Object(p.jsx)(v.a,{maxWidth:"xl",children:Object(p.jsxs)(A.a,{disableGutters:!0,sx:{justifyContent:"space-between"},children:[Object(p.jsx)(y.a,{noWrap:!0,component:"img",sx:{display:{xs:"flex",md:"none"},height:51},alt:"Your logo.",src:"/images/logo-grey.png",className:"logo"}),Object(p.jsx)(y.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},className:o,children:G.map((function(e){return Object(p.jsx)(N.a,{onClick:u,sx:{my:2,color:"#6e6e6e",display:"block"},children:Object(p.jsx)(D.b,{to:e.path,className:"link",children:e.name})},e.name)}))}),Object(p.jsx)(y.a,{sx:{display:{xs:"flex",md:"none"}},className:l,children:t?Object(p.jsx)(z.a,{size:"large",onClick:e.onLogOut,color:"inherit",children:Object(p.jsx)(V.a,{})}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(z.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit",children:Object(p.jsx)(B.a,{})}),Object(p.jsx)(W.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(c),onClose:u,sx:{display:{xs:"block",md:"none"}},children:G.map((function(e){return Object(p.jsx)(E.a,{onClick:u,children:Object(p.jsx)(k.a,{textAlign:"center",children:Object(p.jsx)(D.b,{to:e.path,className:"link",children:e.name})})},e.name)}))})]})})]})})})})},K=Object(r.createContext)();function Q(e){var t=Object(r.useState)(!0),a=Object(d.a)(t,2),n=a[0],c=a[1];return Object(p.jsx)(K.Provider,{value:{fetchingUser:n,setFetchingUser:c},children:e.children})}var X=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var Z=function(){var e=Object(r.useContext)(q).user,t=Object(u.g)();return Object(r.useEffect)((function(){e&&t("/profile/".concat(e._id))}),[e]),Object(p.jsxs)("div",{className:"landingPage",children:[Object(p.jsxs)("div",{className:"overview",children:[Object(p.jsx)("img",{src:"/images/logo.png",alt:"",className:"landingLogo"}),Object(p.jsxs)("h2",{children:["Your space to create your",Object(p.jsx)("br",{}),"own libraries to have a",Object(p.jsx)("br",{}),"full overview of your books"]})]}),Object(p.jsx)(g.a,{theme:X,children:Object(p.jsxs)("div",{className:"signUpLogIn",children:[Object(p.jsxs)("div",{className:"langindPageBtnDiv",children:[Object(p.jsxs)("p",{className:"landingPageP",children:["New to",Object(p.jsx)("br",{}),"librarize?"]}),Object(p.jsx)(N.a,{variant:"contained",sx:{width:"100%"},children:Object(p.jsx)(D.b,{to:"/signup",className:"landingPageLink",children:"Sign Up"})})]}),Object(p.jsxs)("div",{className:"langindPageBtnDiv",children:[Object(p.jsxs)("p",{className:"landingPageP",children:["Already a",Object(p.jsx)("br",{}),"book lover?"]}),Object(p.jsx)(N.a,{variant:"contained",sx:{width:"100%"},children:Object(p.jsx)(D.b,{to:"/login",className:"landingPageLink",children:"Log In"})})]})]})}),Object(p.jsxs)("div",{className:"about",children:[Object(p.jsx)("h4",{children:"About librarize it"}),Object(p.jsx)("p",{children:"Lorem ipsum blablabla"})]})]})},$=(a(274),a(26)),ee=a(172),te=a(59),ae=a(339),re=a(324),ne=a(168),ce=a.n(ne),se=a(167),ie=a.n(se),oe=a(4),le=a(348),ue=a(349);var de,be=function(){var e=Object(r.useContext)(q),t=e.user,a=e.setUser,n=Object(r.useContext)(K),c=n.fetchingUser,s=n.setFetchingUser;return Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(O,"/user"),{withCredentials:!0});case 3:t=e.sent,s(!1),a(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),c||!t?Object(p.jsx)(m,{}):Object(p.jsxs)(le.a,{sx:{position:"fixed",bottom:0,width:1,backgroundColor:"#dfe6ed",display:"flex",justifyContent:"space-around"},className:"bottomNav",children:[Object(p.jsx)(D.b,{to:"/profile/".concat(t._id,"/library-overview"),children:Object(p.jsx)(ue.a,{icon:Object(p.jsx)("img",{src:"/images/library.png",alt:"",className:"bottomNavImg"})})}),Object(p.jsx)(D.b,{to:"/book-overview",children:Object(p.jsx)(ue.a,{icon:Object(p.jsx)("img",{src:"/images/books.png",alt:"",className:"bottomNavImg"})})}),Object(p.jsx)(D.b,{to:"/profile/".concat(t._id),children:Object(p.jsx)(ue.a,{icon:Object(p.jsx)("img",{src:"/images/user.png",alt:"",className:"bottomNavImg"})})})]})},je=["label","onDelete"],he=Object(oe.a)("div")((function(e){e.theme;return"\n      font-size: 12px;\n    "})),xe=Object(oe.a)("label")(de||(de=Object(te.a)(["\n  padding: 0 0 4px;\n  line-height: 1.5;\n  display: block;\n  font-size: 14px;\n"]))),pe=Object(oe.a)("div")((function(e){e.theme;return"\n      width: 300px;\n      border: 1px solid #1bae9f;\n      background-color: #dfe6ed;\n      border-radius: 4px;\n      padding: 1px;\n      display: flex;\n      flex-wrap: wrap;\n    \n      &:hover {\n        border-color: #1bae9f;\n      }\n    \n      &.focused {\n        border-color: #1bae9f;\n      }\n    \n      & input {\n        background-color: #dfe6ed;\n        color: black;\n        height: 30px;\n        box-sizing: border-box;\n        padding: 4px 6px;\n        width: 0;\n        min-width: 30px;\n        flex-grow: 1;\n        border: 0;\n        margin: 0;\n        outline: 0;\n      }\n    "})),me=Object(oe.a)("ul")((function(e){e.theme;return"\n      width: 300px;\n      margin: 2px 0 0;\n      padding: 0;\n      position: absolute;\n      list-style: none;\n      background-color: white;\n      overflow: auto;\n      max-height: 250px;\n      border-radius: 4px;\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n      z-index: 1;\n    \n      & li {\n        padding: 5px 12px;\n        display: flex;\n    \n        & span {\n          flex-grow: 1;\n        }\n    \n        & svg {\n          color: transparent;\n        }\n      }\n    \n      & li[aria-selected='true'] {\n        background-color: white;\n        font-weight: 600;\n    \n        & svg {\n          color: #1890ff;\n        }\n      }\n    \n      & li[data-focus='true'] {\n        background-color: white;\n        cursor: pointer;\n    \n        & svg {\n          color: currentColor;\n        }\n      }\n    "})),Oe=["Action and adventure","Alternate history","Anthology","Art/architecture","Autobiography","Biography","Business/economics","Children's","Classic","Comic book","Coming-of-age","Crime","Crafts/hobbies","Cookbook","Diary","Dictionary","Drama","Encyclopedia","Fairytale","Fantasy","Graphic novel","Guide","Historical fiction","Horror","Health/fitness","History","Home and garden","Humor","Journal","Math","Memoir","Mystery","Paranormal romance","Picture book","Poetry","Political thriller","Philosophy","Prayer","Religion, spirituality, and new age","Romance","Review","Satire","Science fiction","Short story","Suspense","Science","Self help","Sports and leisure","Textbook","True crime","Travel","Thriller","Western","Young adult"];var fe=function(){var e=Object(r.useContext)(q),t=e.user,a=e.setUser,n=null,c=null,s=null,i=null,d=null,b=Object(r.useContext)(K),j=b.fetchingUser,h=b.setFetchingUser;Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(O,"/user"),{withCredentials:!0});case 3:t=e.sent,h(!1),a(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var f=function(){var e=Object(l.a)(o.a.mark((function e(t,r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.patch("".concat(O,"/favorites"),{label:r},{withCredentials:!0});case 2:n=e.sent,a(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=Object(oe.a)((function(e){var t=e.label,a=e.onDelete,r=Object(ee.a)(e,je);return Object(p.jsxs)("div",Object($.a)(Object($.a)({},r),{},{children:[Object(p.jsx)("span",{children:t}),Object(p.jsx)(ie.a,{onClick:function(e){a(e),f(e,t)}})]}))}))((function(e){e.theme;return"\n        display: flex;\n        align-items: center;\n        height: 24px;\n        margin: 2px;\n        line-height: 22px;\n        background-color: white;\n        border: 1px solid #8dd7cf;\n        border-radius: 4px;\n        box-sizing: content-box;\n        padding: 0 2px 0 5px;\n        outline: 0;\n        overflow: hidden;\n      \n        &:focus {\n          border-color: #1bae9f;\n          background-color: white;\n        }\n      \n        & span {\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n      \n        & svg {\n          font-size: 12px;\n          cursor: pointer;\n          padding: 4px;\n        }\n      "}));t&&(n=t.username,c=t.createdAt,s=t.libraries,i=t.favorites,d=t.image);var v=Object(re.a)({id:"customized-hook-demo",defaultValue:i||[Oe[0]],multiple:!0,options:Oe,getOptionLabel:function(e){return e}}),w=v.getRootProps,y=v.getInputLabelProps,k=v.getInputProps,C=v.getTagProps,N=v.getListboxProps,S=v.getOptionProps,P=v.groupedOptions,I=v.value,F=v.focused,U=v.setAnchorEl,L=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.innerText,e.next=3,x.a.patch("".concat(O,"/favorites"),{newFavorite:r},{withCredentials:!0});case 3:n=e.sent,a(n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=("0"+(e.getMonth()+1)).slice(-2);return("0"+e.getDate()).slice(-2)+"/"+t+"/"+e.getFullYear()}(new Date(c));return t?j?Object(p.jsx)(m,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"profile",children:[d?Object(p.jsx)(ae.a,{alt:"Avatar",src:d,sx:{width:125,height:125},className:"avatar"}):Object(p.jsx)(ae.a,{alt:"Avatar",src:"/images/user.png",sx:{width:125,height:125},className:"avatar"}),Object(p.jsxs)("div",{className:"details",children:[Object(p.jsxs)("h3",{children:["Username: ",n]}),Object(p.jsxs)("h4",{children:["User since: ",R]}),1===s.length?Object(p.jsx)("h4",{children:"1 library"}):Object(p.jsxs)("h4",{children:[s.length," libraries"]}),Object(p.jsxs)(he,{children:[Object(p.jsxs)("div",Object($.a)(Object($.a)({},w()),{},{className:"favoritesInput",children:[Object(p.jsx)(xe,Object($.a)(Object($.a)({},y()),{},{children:"Favorite Genre/s"})),Object(p.jsxs)(pe,{ref:U,className:F?"focused":"",children:[I.map((function(e,t){return Object(p.jsx)(g,Object($.a)({label:e},C({index:t})))})),Object(p.jsx)("input",Object($.a)({},k()))]})]})),P.length>0?Object(p.jsx)("div",{className:"favoritesInput",children:Object(p.jsx)(me,Object($.a)(Object($.a)({},N()),{},{children:P.map((function(e,t){return Object(p.jsxs)("li",Object($.a)(Object($.a)({},S({option:e,index:t})),{},{children:[Object(p.jsx)("span",{onClick:function(e){L(e)},children:e}),Object(p.jsx)(ce.a,{fontSize:"small"})]}))}))}))}):null]})]})]}),Object(p.jsx)(D.b,{to:"/settings",children:Object(p.jsx)("img",{src:"/images/pencil.png",alt:"settings",className:"settings"})}),Object(p.jsx)(D.b,{to:"/create-library",children:Object(p.jsx)("img",{src:"/images/add-library.png",alt:"create-library",className:"addlibrary"})}),Object(p.jsx)(be,{})]}):Object(p.jsx)(u.a,{to:"/"})},ge=a(336),ve=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var we=function(){var e=Object(r.useContext)(q),t=e.user,a=e.setUser,n=Object(r.useContext)(P).error,c=null,s=null,i=null,b=null,j=Object(r.useContext)(K).fetchingUser,h=Object(u.g)(),f=Object(r.useState)(!1),S=Object(d.a)(f,2),D=S[0],I=S[1];t&&(c=t.image),n&&(n.username?s=n.username:n.email?i=n.email:n.password&&(b=n.password));var F=function(){var e=Object(l.a)(o.a.mark((function e(r){var n,c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n={},0!==r.target.image.files.length){e.next=6;break}n={username:r.target.username.value,email:r.target.email.value,password:r.target.password.value,newPassword:r.target.newPassword.value},e.next=12;break;case 6:return(c=new FormData).append("imageUrl",r.target.image.files[0]),e.next=10,x.a.post("".concat(O,"/upload"),c);case 10:s=e.sent,n={username:r.target.username.value,email:r.target.email.value,password:r.target.password.value,newPassword:r.target.newPassword.value,image:s.data.image};case 12:return e.next=14,x.a.patch("".concat(O,"/profile/").concat(t._id),n,{withCredentials:!0});case 14:i=e.sent,a(i.data),h("/profile/".concat(t._id));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("".concat(O,"/profile/").concat(t._id,"/delete"),{withCredentials:!0});case 2:a(null),h("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return j||!t?Object(p.jsx)(m,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(g.a,{theme:ve,children:[Object(p.jsx)("div",{className:"profile",children:Object(p.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)(w.a,{}),Object(p.jsxs)(y.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)(k.a,{component:"h1",variant:"h6",align:"center",children:"Edit your personal information"}),Object(p.jsxs)(y.a,{component:"form",onSubmit:F,noValidate:!0,sx:{mt:1},children:[c?Object(p.jsx)(ae.a,{alt:"Avatar",src:c,sx:{width:125,height:125},className:"editAvatar"}):Object(p.jsx)(ae.a,{alt:"Avatar",src:"/images/user.png",sx:{width:125,height:125},className:"editAvatar"}),Object(p.jsx)(C.a,{margin:"normal",fullWidth:!0,id:"image",name:"image",type:"file"}),Object(p.jsx)(C.a,{margin:"normal",fullWidth:!0,id:"username",label:"Username",name:"username",autoFocus:!0,helperText:s||"",error:!!s}),Object(p.jsx)(C.a,{margin:"normal",fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",helperText:i||"",error:!!i}),Object(p.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:b||"",error:!!b}),Object(p.jsx)(C.a,{margin:"normal",fullWidth:!0,name:"newPassword",label:"New Password",type:"password",id:"newPassword",autoComplete:"current-password",helperText:b||"",error:!!b}),Object(p.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,mr:"35%",ml:"35%",width:"30%"},children:"Submit"})]})]})]})}),Object(p.jsx)("img",{src:"/images/garbage.png",alt:"",onClick:function(){I(!D)},className:"delete"}),Object(p.jsx)(ge.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:D,onClick:function(){I(!1)},children:Object(p.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},children:[Object(p.jsx)("h3",{children:"Are you sure you want to delete your account?"}),Object(p.jsx)(N.a,{sx:{backgroundColor:"#ac6363",color:"white",width:"25%",mb:2},onClick:U,children:"Delete"})," ",Object(p.jsx)(N.a,{sx:{backgroundColor:"#1bae9f",color:"white",width:"25%"},children:"Back"})]})})]}),Object(p.jsx)(be,{})]})},ye=(a(96),Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}}));var ke=function(){var e=Object(r.useContext)(q),t=e.user,a=e.setUser,n=Object(r.useContext)(K).fetchingUser,c=Object(r.useContext)(P),s=c.error,i=c.setError,d=Object(u.g)(),b=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r={title:t.target.title.value,description:t.target.description.value},e.next=5,x.a.post("".concat(O,"/create-library"),r,{withCredentials:!0});case 5:n=e.sent,a(n.data),d("/library/".concat(n.data._id)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),i(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return n||!t?Object(p.jsx)(m,{}):Object(p.jsxs)("div",{children:[Object(p.jsx)(g.a,{theme:ye,children:Object(p.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)(w.a,{}),Object(p.jsxs)(y.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)(k.a,{component:"h1",variant:"h5",align:"center",children:"Create your own library"}),Object(p.jsx)("img",{src:"/images/library.png",alt:"",className:"library"}),Object(p.jsxs)(y.a,{component:"form",onSubmit:b,noValidate:!0,sx:{mt:1},children:[Object(p.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title of your library",name:"title",autoFocus:!0,helperText:s||"",error:!!s}),Object(p.jsx)(C.a,{margin:"normal",fullWidth:!0,id:"description",label:"Description",multiline:!0}),Object(p.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,mr:"35%",ml:"35%",width:"30%"},children:"Submit"})]})]})]})}),Object(p.jsx)(be,{})]})},Ce=Object(r.createContext)();function Ne(e){var t=Object(r.useState)(null),a=Object(d.a)(t,2),n=a[0],c=a[1];return Object(p.jsx)(Ce.Provider,{value:{oneLibrary:n,setOneLibrary:c},children:e.children})}var Se=a(325),De=a(350),Pe=a(351),Ie=a(352),Fe=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var Ue=function(){var e=Object(u.h)().id,t=Object(u.g)(),a=Object(r.useContext)(Ce),n=a.oneLibrary,c=a.setOneLibrary,s=Object(r.useState)(null),i=Object(d.a)(s,2),b=i[0],j=i[1],h=Object(r.useState)(null),f=Object(d.a)(h,2),v=f[0],w=f[1];Object(r.useEffect)((function(){var t=function(){var t=Object(l.a)(o.a.mark((function t(){var a,r,n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("".concat(O,"/library/").concat(e),{withCredentials:!0});case 2:a=t.sent,c(a.data),r=a.data.books,n=r.map((function(e){return e.author&&(e.author.length>0?e.authors=e.author.join(", "):e.authors=e.author),e})),s=n.sort((function(e,t){var a=e.title,r=t.title;return a<r?-1:a>r?1:0})),j(s),w(s);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var k=Object(r.useState)(!1),S=Object(d.a)(k,2),P=S[0],I=S[1],F=function(){var a=Object(l.a)(o.a.mark((function a(r){var n,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),n={isbn:r.target.isbn.value,library:e},a.prev=2,a.next=5,x.a.post("".concat(O,"/add-book"),n,{withCredentials:!0});case 5:c=a.sent,t("/library/".concat(e,"/book/").concat(c.data._id)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),alert("ISBN not found");case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}();return n&&b&&v?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"libraryDiv",children:[Object(p.jsxs)("div",{className:"libraryHeader",children:[Object(p.jsx)("img",{src:"/images/library.png",alt:"library",width:"75px"}),Object(p.jsxs)("div",{className:"libraryDetails",children:[Object(p.jsx)("h3",{children:n.title}),Object(p.jsx)(D.b,{to:"/library/".concat(e,"/edit"),children:Object(p.jsx)("img",{src:"/images/pencil.png",alt:"pencil",width:"15px",height:"15px"})})]})]}),Object(p.jsx)(Se.a,{variant:"middle"}),Object(p.jsx)(g.a,{theme:Fe,children:Object(p.jsx)("div",{className:"textfieldCenter",children:Object(p.jsx)(C.a,{margin:"normal",required:!0,id:"search",label:"Search for title",name:"search",autoFocus:!0,onChange:function(e){var t=e.target.value,a=b.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));w(a)},size:"small",sx:{width:"85vw"}})})}),Object(p.jsx)("div",{className:"books",children:v.map((function(t){return Object(p.jsxs)(De.a,{sx:{width:120,backgroundColor:"#dfe6ed"},className:"card",children:[Object(p.jsx)(Pe.a,{component:"img",height:"50",image:t.image,alt:"books"}),Object(p.jsx)(Ie.a,{className:"cardContent",children:Object(p.jsxs)(D.b,{to:"/library/".concat(e,"/book/").concat(t._id),className:"cardLink bookLink",children:[t.title," ",Object(p.jsx)("br",{})," ",t.authors]})})]},t._id)}))})]}),Object(p.jsx)("img",{src:"/images/hinzufugen.png",alt:"add-book",className:"addBook",onClick:function(){I(!P)}}),Object(p.jsx)(ge.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:P,children:Object(p.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},children:[Object(p.jsx)(g.a,{theme:Fe,children:Object(p.jsxs)(y.a,{component:"form",onSubmit:F,noValidate:!0,sx:{mt:1},children:[Object(p.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"isbn",label:"ISBN",name:"isbn",autoFocus:!0,sx:{backgroundColor:"rgba(223, 230, 237, 0.8)",borderRadius:"0.5rem"}}),Object(p.jsx)(N.a,{type:"submit",sx:{backgroundColor:"#1bae9f",color:"white",width:"30%",mb:2},children:"Search"})]})}),Object(p.jsx)(N.a,{sx:{backgroundColor:"#dfe6ed",color:"black",width:"25%"},onClick:function(){I(!1)},children:"Back"})]})}),Object(p.jsx)(be,{})]}):Object(p.jsx)(m,{})},Le=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var Re=function(){var e=Object(r.useContext)(q).user,t=Object(r.useState)(null),a=Object(d.a)(t,2),n=a[0],c=a[1],s=Object(r.useContext)(K).fetchingUser;return Object(r.useEffect)((function(){var t=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,x.a.get("".concat(O,"/profile/").concat(e._id),{withCredentials:!0});case 3:a=t.sent,c(a.data.libraries);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),!s&&e&&n?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(g.a,{theme:Le,children:Object(p.jsxs)("div",{className:"libraryDiv",children:[Object(p.jsx)("h2",{className:"header",children:"Your libraries"}),Object(p.jsx)("div",{className:"cardDiv",children:n.map((function(e){return Object(p.jsxs)(De.a,{sx:{width:100,backgroundColor:"#dfe6ed"},className:"card",children:[Object(p.jsx)(Pe.a,{component:"img",height:"75",image:"/images/library.png",alt:"library"}),Object(p.jsxs)(Ie.a,{className:"cardContent",children:[Object(p.jsx)(D.b,{to:"/library/".concat(e._id),className:"cardLink",children:Object(p.jsx)(k.a,{children:e.title})}),Object(p.jsx)(D.b,{to:"/library/".concat(e._id,"/edit"),children:Object(p.jsx)("img",{src:"/images/pencil.png",alt:"settings",className:"pencil"})})]})]},e._id)}))}),Object(p.jsx)(D.b,{to:"/create-library",children:Object(p.jsx)("img",{src:"/images/add-library.png",alt:"create-library",className:"addlibrary"})})]})}),Object(p.jsx)(be,{})]}):Object(p.jsx)(m,{})},Te=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var Ae=function(){var e=Object(r.useContext)(q),t=e.user,a=e.setUser,n=Object(r.useContext)(K).fetchingUser,c=Object(r.useContext)(P),s=c.error,i=c.setError,b=Object(u.g)(),j=Object(u.h)().id,h=Object(r.useState)(!1),f=Object(d.a)(h,2),S=f[0],D=f[1],I=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r={title:t.target.title.value,description:t.target.description.value},e.next=5,x.a.patch("".concat(O,"/library/").concat(j),r,{withCredentials:!0});case 5:n=e.sent,a(n.data),b("/library/".concat(n.data._id)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),i(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("".concat(O,"/library/").concat(j,"/delete"),{withCredentials:!0});case 2:b("/profile/".concat(t._id,"/library-overview"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n||!t?Object(p.jsx)(m,{}):Object(p.jsxs)("div",{children:[Object(p.jsxs)(g.a,{theme:Te,children:[Object(p.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)(w.a,{}),Object(p.jsxs)(y.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)(k.a,{component:"h1",variant:"h5",align:"center",children:"Edit your own library"}),Object(p.jsx)("img",{src:"/images/library.png",alt:"",className:"library"}),Object(p.jsxs)(y.a,{component:"form",onSubmit:I,noValidate:!0,sx:{mt:1},children:[Object(p.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title of your library",name:"title",autoFocus:!0,helperText:s||"",error:!!s}),Object(p.jsx)(C.a,{margin:"normal",fullWidth:!0,id:"description",label:"Description",multiline:!0}),Object(p.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,mr:"35%",ml:"35%",width:"30%"},children:"Submit"})]})]})]}),Object(p.jsx)("img",{src:"/images/garbage.png",alt:"",onClick:function(){D(!S)},className:"delete"}),Object(p.jsx)(ge.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:S,onClick:function(){D(!1)},children:Object(p.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},children:[Object(p.jsx)("h3",{children:"Are you sure you want to delete this library?"}),Object(p.jsx)(N.a,{sx:{backgroundColor:"#ac6363",color:"white",width:"25%",mb:2},onClick:F,children:"Delete"})," ",Object(p.jsx)(N.a,{sx:{backgroundColor:"#1bae9f",color:"white",width:"25%"},children:"Back"})]})})]}),Object(p.jsx)(be,{})]})},ze=(a(160),a(327)),We=a(333),Ee=a(344),_e=a(353),Be=a(326),Me=a(354),Ve=a(355),qe=a(331),He=a(356),Ye=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var Ge=function(e){var t=Object(r.useState)(!1),a=Object(d.a)(t,2),n=a[0],c=a[1],s=function(){c(!1)},i=Object(r.useState)(!1),o=Object(d.a)(i,2),l=o[0],u=o[1];return Object(p.jsxs)(g.a,{theme:Ye,children:[Object(p.jsxs)(N.a,{variant:"contained",onClick:function(){c(!0)},size:"small",children:[e.text," review"]})," ",Object(p.jsx)(_e.a,{open:n,onClose:s,children:Object(p.jsxs)(y.a,{component:"form",onSubmit:e.handleReview,noValidate:!0,children:[Object(p.jsxs)(Be.a,{children:[e.text," review for ",e.book.title]}),Object(p.jsxs)(Me.a,{children:[Object(p.jsx)(C.a,{autoFocus:!0,id:"review",label:"Review",type:"text",fullWidth:!0,variant:"standard",margin:"normal",multiline:!0,defaultValue:e.reviewValue}),Object(p.jsx)(Ve.a,{control:Object(p.jsx)(qe.a,{}),label:"Make review public",name:"publicReview",id:"publicReview"})]}),Object(p.jsxs)(He.a,{children:[Object(p.jsx)(N.a,{type:"submit",onClick:s,children:"Submit"}),Object(p.jsx)(N.a,{onClick:s,children:"Back"}),e.isSet?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("img",{src:"/images/garbage.png",alt:"",className:"reviewDelete",onClick:function(){u(!l)}}),Object(p.jsx)(ge.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:l,onClick:function(){u(!1)},children:Object(p.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},children:[Object(p.jsx)("h3",{children:"Are you sure you want to delete this review?"}),Object(p.jsx)(N.a,{sx:{backgroundColor:"#ac6363",color:"white",width:"25%",mb:2},onClick:function(){e.handleReviewDelete(),s()},children:"Delete"}),Object(p.jsx)(N.a,{sx:{backgroundColor:"#1bae9f",color:"white",width:"25%"},children:"Back"})]})})]}):""]})]})})]})},Je=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var Ke=function(e){var t=Object(r.useState)(!1),a=Object(d.a)(t,2),n=a[0],c=a[1],s=function(){c(!1)};return Object(p.jsxs)(g.a,{theme:Je,children:[Object(p.jsx)(N.a,{variant:"contained",onClick:function(){c(!0)},size:"small",sx:{fontSize:"10px",mb:"2rem"},children:"Edit author"}),Object(p.jsx)(_e.a,{open:n,onClose:s,children:Object(p.jsxs)(y.a,{component:"form",onSubmit:e.handleAuthor,noValidate:!0,children:[Object(p.jsxs)(Be.a,{children:["Edit the author for ",e.book.title]}),Object(p.jsx)(Me.a,{children:Object(p.jsx)(C.a,{autoFocus:!0,id:"author",label:"Author",type:"text",fullWidth:!0,variant:"standard",margin:"normal",multiline:!0,defaultValue:e.authorValue})}),Object(p.jsxs)(He.a,{children:[Object(p.jsx)(N.a,{type:"submit",onClick:s,children:"Submit"}),Object(p.jsx)(N.a,{onClick:s,children:"Back"})]})]})})]})},Qe=["Not started","In progress","Abandoned","Completed"];var Xe=function(){var e=Object(r.useContext)(Ce),t=e.oneLibrary,a=e.setOneLibrary,n=Object(r.useState)(null),c=Object(d.a)(n,2),s=c[0],i=c[1],b=Object(u.h)(),j=b.id,h=b.libraryId,f=Object(u.g)(),g=Object(r.useState)(null),v=Object(d.a)(g,2),w=v[0],k=v[1],S=Object(r.useState)(null),P=Object(d.a)(S,2),I=P[0],F=P[1],U=Object(r.useState)(null),L=Object(d.a)(U,2),R=L[0],T=L[1],A=Object(r.useState)(null),z=Object(d.a)(A,2),W=z[0],E=z[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(O,"/book/").concat(j),{withCredentials:!0});case 2:return t=e.sent,e.next=5,x.a.get("".concat(O,"/library/").concat(h),{withCredentials:!0});case 5:return r=e.sent,e.next=8,x.a.get("".concat(O,"/book/").concat(j,"/rating"),{withCredentials:!0});case 8:n=e.sent,t.data.author&&E(t.data.author),n.data?(n.data.review&&F(n.data.review.value),n.data.ratingValue?k(n.data.ratingValue):k(0),n.data.status&&T(n.data.status)):k(0),i(t.data),a(r.data);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var _=Object(r.useState)(!1),B=Object(d.a)(_,2),M=B[0],V=B[1],q=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.patch("".concat(O,"/library/").concat(t._id,"/book/").concat(j,"/delete"),{withCredentials:!0});case 2:f("/library/".concat(t._id));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(O,"/book/").concat(j,"/rating"),{ratingValue:a},{withCredentials:!0});case 2:k(a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x.a.post("".concat(O,"/book/").concat(j,"/rating"),{review:t.target.review.value,publicReview:t.target.publicReview.checked},{withCredentials:!0});case 3:F(t.target.review.value);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.patch("".concat(O,"/book/").concat(j,"/review"),{},{withCredentials:!0});case 2:F(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x.a.patch("".concat(O,"/book/").concat(j),{author:t.target.author.value},{withCredentials:!0});case 3:E(t.target.author.value);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(O,"/book/").concat(j,"/rating"),{status:a},{withCredentials:!0});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return s&&s.author&&(s.author.length>0?s.authors=s.author.join(", "):s.authors=s.author),s&&t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"bookDetail",children:[Object(p.jsx)("img",{src:s.image,alt:"",className:"cover"}),Object(p.jsx)("h4",{className:"heading",children:s.title}),Object(p.jsx)("h4",{className:"heading",children:W}),Object(p.jsx)(Ke,{book:s,authorValue:W,handleAuthor:J}),Object(p.jsx)(ze.a,{disablePortal:!0,id:"status",options:Qe,size:"small",sx:{width:200},className:"statusInput",defaultValue:R,renderInput:function(e){return Object(p.jsx)(C.a,Object($.a)(Object($.a)({},e),{},{label:"Status"}))},onChange:function(e,t){K(e,t)}}),Object(p.jsxs)("h6",{children:[s.isbn13?Object(p.jsxs)(p.Fragment,{children:["ISBN: ",s.isbn13]}):Object(p.jsxs)(p.Fragment,{children:["ISBN: ",s.isbn10]}),Object(p.jsx)("br",{}),"Pages: ",s.pages,Object(p.jsx)("br",{}),"Published: ",s.published,Object(p.jsx)("br",{}),s.description?Object(p.jsxs)(p.Fragment,{children:["Description: ",s.description]}):""]}),Object(p.jsx)(We.a,{name:"simple-controlled",value:w,onChange:function(e,t){H(e,t)},className:"booksRating"}),Object(p.jsx)("br",{}),I?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ee.a,{elevation:3,sx:{backgroundColor:"#dfe6ed",width:"70%"},className:"paper",children:I}),Object(p.jsx)(Ge,{book:s,text:"Edit your",handleReview:Y,reviewValue:I,handleReviewDelete:G,isSet:"true"})]}):Object(p.jsx)(Ge,{book:s,text:"Write a",handleReview:Y})]}),Object(p.jsx)(D.b,{to:"/library/".concat(t._id),children:Object(p.jsx)("img",{src:"/images/left-arrow.png",alt:"back",className:"back"})}),Object(p.jsx)("img",{src:"/images/garbage.png",alt:"",onClick:function(){V(!M)},className:"delete"}),Object(p.jsx)(ge.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:M,onClick:function(){V(!1)},children:Object(p.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},children:[Object(p.jsxs)("h3",{children:["Are you sure you want to delete this book from ",t.title,"?"]}),Object(p.jsx)(N.a,{sx:{backgroundColor:"#ac6363",color:"white",width:"25%",mb:2},onClick:q,children:"Delete"}),Object(p.jsx)(N.a,{sx:{backgroundColor:"#1bae9f",color:"white",width:"25%"},children:"Back"})]})}),Object(p.jsx)(be,{})]}):Object(p.jsx)(m,{})};var Ze=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(O,"/book-overview"),{withCredentials:!0});case 2:t=e.sent,a=t.data,r=a.map((function(e){return e.book[0].author&&(e.book[0].author.length>0?e.book[0].authors=e.book[0].author.join(", "):e.book[0].authors=e.book[0].author),e})),c=r.sort((function(e,t){var a=e.avgRating,r=t.avgRating;return a<r?1:a>r?-1:0})),n(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),a?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"libraryDiv",children:[Object(p.jsx)("h2",{className:"header",children:"Top rated books"}),Object(p.jsx)("div",{className:"cardDiv",children:a.map((function(e){return Object(p.jsxs)(De.a,{sx:{width:120,backgroundColor:"#dfe6ed"},className:"card",children:[Object(p.jsx)(Pe.a,{component:"img",height:"50",image:e.book[0].image,alt:"cover"}),Object(p.jsx)(Ie.a,{className:"cardContent",children:Object(p.jsxs)(D.b,{to:"/book/".concat(e._id),className:"cardLink bookLink",children:[e.book[0].title," ",Object(p.jsx)("br",{})," ",e.book[0].authors]})})]},e._id)}))})]}),Object(p.jsx)(be,{})]}):Object(p.jsx)(m,{})},$e=a(334),et=a(357),tt=a(358),at=a(332),rt=a(169),nt=a.n(rt),ct=function(e){var t=("0"+(e.getMonth()+1)).slice(-2);return("0"+e.getDate()).slice(-2)+"/"+t+"/"+e.getFullYear()},st=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var it=function(){var e=Object(r.useContext)(q).user,t=Object(r.useState)([]),a=Object(d.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)([]),i=Object(d.a)(s,2),b=i[0],j=i[1],h=Object(r.useState)(0),f=Object(d.a)(h,2),v=f[0],w=f[1],C=Object(r.useState)([]),S=Object(d.a)(C,2),P=S[0],I=S[1],F=Object(u.h)().id;Object(r.useEffect)((function(){var t=function(){var t=Object(l.a)(o.a.mark((function t(){var a,r,n,s,i,l,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=14;break}return t.next=3,x.a.get("".concat(O,"/libraries/").concat(e._id,"/").concat(F),{withCredentials:!0});case 3:return a=t.sent,t.next=6,x.a.get("".concat(O,"/book/").concat(F),{withCredentials:!0});case 6:return r=t.sent,t.next=9,x.a.get("".concat(O,"/book/").concat(F,"/review"),{withCredentials:!0});case 9:n=t.sent,r.data.author&&(r.data.author.length>0?r.data.authors=r.data.author.join(", "):r.data.authors=r.data.author),1===n.data.length?(w(n.data[0].ratingValue),n.data[0].review&&(n.data[0].review.createdDate=ct(new Date(n.data[0].review.created)),n.data[0].user?n.data[0].review.publicReview?n.data[0].review.user=n.data[0].user.username:n.data[0].review.publicReview||(n.data[0].review.user="Anonymous"):n.data[0].review.user="Deleted Account",j([n.data[0].review]))):(s=[],i=[],n.data.forEach((function(e){s.push(e.ratingValue),e.review&&(e.review.createdDate=ct(new Date(e.review.created)),e.user?e.review.publicReview?e.review.user=e.user.username:e.review.publicReview||(e.review.user="Anonymous"):e.review.user="Deleted Account",i.push(e.review))})),l=s.reduce((function(e,t){return e+t}),0),u=l/s.length,w(u),j(i)),c(a.data),I(r.data);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var U=Object(r.useState)(!1),L=Object(d.a)(U,2),R=L[0],T=L[1],A=function(){T(!1)},z=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={isbn:P.isbn13||P.isbn10,library:t.target.library.value},e.next=4,x.a.post("".concat(O,"/add-book"),a,{withCredentials:!0});case 4:A();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return e&&n&&P?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"bookDetail",children:[Object(p.jsx)("img",{src:P.image,alt:"",className:"cover"}),Object(p.jsx)("h4",{className:"heading",children:P.title}),Object(p.jsx)("h4",{className:"heading",children:P.authors}),Object(p.jsxs)("h6",{children:[P.isbn13?Object(p.jsxs)(p.Fragment,{children:["ISBN: ",P.isbn13]}):Object(p.jsxs)(p.Fragment,{children:["ISBN: ",P.isbn10]}),Object(p.jsx)("br",{}),"Pages: ",P.pages,Object(p.jsx)("br",{}),"Published: ",P.published,Object(p.jsx)("br",{}),P.description?Object(p.jsxs)(p.Fragment,{children:["Description: ",P.description]}):""]}),Object(p.jsx)(We.a,{name:"simple-controlled",value:v,className:"booksRating"}),Object(p.jsx)("br",{}),Object(p.jsxs)($e.a,{sx:{backgroundColor:"#dfe6ed"},children:[Object(p.jsx)(et.a,{expandIcon:Object(p.jsx)(nt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(p.jsx)(k.a,{children:"Reviews"})}),Object(p.jsx)(tt.a,{sx:{pl:"0",pr:"0"},children:b.map((function(e,t){return Object(p.jsxs)(Ee.a,{elevation:1,sx:{backgroundColor:"#c3cfd9",borderRadius:"0"},className:"paper",children:[e.user," wrote on ",e.createdDate,":",Object(p.jsx)("br",{}),e.value]},t)}))})]})]}),Object(p.jsx)(D.b,{to:"/book-overview",children:Object(p.jsx)("img",{src:"/images/left-arrow.png",alt:"back",className:"back"})}),Object(p.jsx)("img",{src:"/images/hinzufugen.png",alt:"add-book",className:"addBook",onClick:function(){T(!R)}}),Object(p.jsx)(ge.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:R,children:Object(p.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},children:[Object(p.jsx)(g.a,{theme:st,children:Object(p.jsxs)(y.a,{component:"form",onSubmit:z,noValidate:!0,sx:{mt:1},children:[Object(p.jsx)(k.a,{sx:{color:"black",backgroundColor:"rgba(223, 230, 237, 0.8)",borderRadius:"0.5rem",mb:"1rem"},children:"Select a library to add"}),Object(p.jsx)(at.a,{id:"library",label:"Library",name:"library",sx:{width:"50vw",mb:"1rem",backgroundColor:"rgba(223, 230, 237, 0.8)",borderRadius:"0.5rem"},children:n.map((function(e){return Object(p.jsx)(E.a,{value:e._id,children:e.title},e._id)}))}),Object(p.jsx)("br",{}),Object(p.jsx)(N.a,{type:"submit",sx:{backgroundColor:"#1bae9f",color:"white",width:"30%",mb:2},children:"Add"})]})}),Object(p.jsx)(N.a,{sx:{backgroundColor:"#dfe6ed",color:"black",width:"25%"},onClick:A,children:"Back"})]})}),Object(p.jsx)(be,{})]}):Object(p.jsx)(m,{})};var ot=function(){var e=Object(r.useContext)(q).setUser,t=Object(r.useContext)(P).setError,a=Object(r.useContext)(K),n=a.fetchingUser,c=a.setFetchingUser,s=Object(u.g)();Object(r.useEffect)((function(){var t=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("".concat(O,"/user"),{withCredentials:!0});case 3:a=t.sent,c(!1),e(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),c(!1);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var i=function(){var a=Object(l.a)(o.a.mark((function a(r){var n,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,n={username:r.target.username.value,email:r.target.email.value,password:r.target.password.value,confirmPassword:r.target.confirmPassword.value},a.next=5,x.a.post("".concat(O,"/signup"),n,{withCredentials:!0});case 5:c=a.sent,e(c.data),t(null),s("/profile/".concat(c.data._id)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),a.t0.response.data.error?a.t0.response.data.error.username?t({username:a.t0.response.data.error.username}):a.t0.response.data.error.email&&t({password:a.t0.response.data.error.email}):a.t0.response.data.username?t({username:a.t0.response.data.username}):a.t0.response.data.email?t({email:a.t0.response.data.email}):a.t0.response.data.password&&t({password:a.t0.response.data.password});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}(),d=function(){var a=Object(l.a)(o.a.mark((function a(r){var n,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,n={username:r.target.username.value,password:r.target.password.value},a.next=5,x.a.post("".concat(O,"/login"),n,{withCredentials:!0});case 5:c=a.sent,e(c.data),t(null),s("/profile/".concat(c.data._id)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),a.t0.response.data.error?"Username does not exist"===a.t0.response.data.error?t({username:"Username does not exist"}):"Passwords don't match"===a.t0.response.data.error&&t({password:"Passwords don't match"}):a.t0.response.data.username?t({username:a.t0.response.data.username}):a.t0.response.data.password&&t({password:a.t0.response.data.password});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}(),b=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.post("".concat(O,"/logout"),{},{withCredentials:!0});case 2:e(null),s("/");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n?Object(p.jsx)(m,{}):Object(p.jsxs)("div",{children:[Object(p.jsx)(J,{onLogOut:b}),Object(p.jsxs)(u.d,{children:[Object(p.jsx)(u.b,{path:"/",element:Object(p.jsx)(Z,{})}),Object(p.jsx)(u.b,{path:"/signup",element:Object(p.jsx)(U,{onSignUp:i})}),Object(p.jsx)(u.b,{path:"/login",element:Object(p.jsx)(R,{onLogIn:d})}),Object(p.jsx)(u.b,{path:"/profile/:id",element:Object(p.jsx)(fe,{})}),Object(p.jsx)(u.b,{path:"/settings",element:Object(p.jsx)(we,{})}),Object(p.jsx)(u.b,{path:"/create-library",element:Object(p.jsx)(ke,{})}),Object(p.jsx)(u.b,{path:"/profile/:id/library-overview",element:Object(p.jsx)(Re,{})}),Object(p.jsx)(u.b,{path:"/library/:id",element:Object(p.jsx)(Ue,{})}),Object(p.jsx)(u.b,{path:"/library/:id/edit",element:Object(p.jsx)(Ae,{})}),Object(p.jsx)(u.b,{path:"/library/:libraryId/book/:id",element:Object(p.jsx)(Xe,{})}),Object(p.jsx)(u.b,{path:"/book-overview",element:Object(p.jsx)(Ze,{})}),Object(p.jsx)(u.b,{path:"/book/:id",element:Object(p.jsx)(it,{})})]})]})};s.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(D.a,{children:Object(p.jsx)(H,{children:Object(p.jsx)(Q,{children:Object(p.jsx)(I,{children:Object(p.jsx)(Ne,{children:Object(p.jsx)(ot,{})})})})})})}),document.getElementById("root"))},95:function(e,t,a){},96:function(e,t,a){}},[[275,1,2]]]);
//# sourceMappingURL=main.54136498.chunk.js.map