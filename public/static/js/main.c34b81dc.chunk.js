(this["webpackJsonplibrarize-it-client"]=this["webpackJsonplibrarize-it-client"]||[]).push([[0],{100:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},166:function(e,t,a){},205:function(e,t,a){},258:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(56),s=a.n(c),i=(a(205),a(13)),o=a.n(i),l=a(18),d=a(15),u=a(7),b=a(167),j=a.n(b),h=(a(258),a(16)),x=a.n(h),m=a(0),p=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),a=t[0],n=t[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://assets6.lottiefiles.com/packages/lf20_irdkrpwy.json");case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var c={loop:!0,autoplay:!0,animationData:a,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return Object(m.jsxs)("div",{className:"loading",children:[Object(m.jsx)(j.a,{options:c,height:"50vw",width:"50vw"}),Object(m.jsxs)("p",{children:["Reading through",Object(m.jsx)("br",{}),"all the pages..."]})]})},O="http://librarize.it/api",f=a(177),g=a(353),v=a(354),w=a(325),y=a(355),k=a(91),C=a(342),N=a(350),S=a(351),I=a(17),P=Object(r.createContext)();function L(e){var t=Object(r.useState)(null),a=Object(u.a)(t,2),n=a[0],c=a[1];return Object(m.jsx)(P.Provider,{value:{error:n,setError:c},children:e.children})}a(100);var D=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var F=function(e){var t=Object(r.useContext)(P).error,a=Object(r.useState)(null),n=Object(u.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(null),o=Object(u.a)(i,2),l=o[0],d=o[1],b=Object(r.useState)(null),j=Object(u.a)(b,2),h=j[0],x=j[1];return Object(r.useEffect)((function(){t&&(t.username?s(t.username):t.email?d(t.email):t.password&&x(t.password))}),[t]),Object(m.jsx)(g.a,{theme:D,children:Object(m.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(m.jsx)(w.a,{}),Object(m.jsxs)(y.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(m.jsx)(k.a,{component:"h1",variant:"h6",align:"center",children:"To turn the page and get entrance to the magical library please tell us some things about you"}),Object(m.jsxs)(y.a,{component:"form",onSubmit:e.onSignUp,noValidate:!0,sx:{mt:1},children:[Object(m.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoFocus:!0,helperText:c||"",error:!!c}),Object(m.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",helperText:l||"",error:!!l}),Object(m.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:h||"",error:!!h}),Object(m.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"current-password",helperText:h||"",error:!!h}),Object(m.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,mr:"35%",ml:"35%",width:"30%"},children:"Sign Up"}),Object(m.jsx)(S.a,{container:!0,children:Object(m.jsx)(S.a,{item:!0,margin:"auto",children:Object(m.jsx)(I.b,{to:"/login",className:"link",children:"Already have an account? Log In instead"})})})]})]})]})})},U=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var T=function(e){var t=Object(r.useContext)(P).error,a=Object(r.useState)(null),n=Object(u.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(null),o=Object(u.a)(i,2),l=o[0],d=o[1];return Object(r.useEffect)((function(){t&&(t.username?s(t.username):t.password&&d(t.password))}),[t]),Object(m.jsx)(g.a,{theme:U,children:Object(m.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(m.jsx)(w.a,{}),Object(m.jsxs)(y.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(m.jsxs)(k.a,{component:"h1",variant:"h5",align:"center",children:["To re-enter the book world",Object(m.jsx)("br",{}),"please log in"]}),Object(m.jsxs)(y.a,{component:"form",onSubmit:e.onLogIn,noValidate:!0,sx:{mt:1},children:[Object(m.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,helperText:c||"",error:!!c}),Object(m.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:l||"",error:!!l}),Object(m.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,mr:"35%",ml:"35%",width:"30%"},children:"Log In"}),Object(m.jsx)(S.a,{container:!0,children:Object(m.jsx)(S.a,{item:!0,margin:"auto",children:Object(m.jsx)(I.b,{to:"/signup",className:"link",children:"Don't have an account? Sign Up here"})})})]})]})]})})},A=a(359),R=a(360),z=a(361),_=a(178),W=a(362),E=a(171),B=a.n(E),V=a(170),M=a.n(V),q=(a(134),Object(r.createContext)());function H(e){var t=Object(r.useState)(null),a=Object(u.a)(t,2),n=a[0],c=a[1];return Object(m.jsx)(q.Provider,{value:{user:n,setUser:c},children:e.children})}var Y=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#8dd7cf",contrastText:"#6e6e6e"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}}),G=[{name:"Home",path:"/"},{name:"Log In",path:"/login"},{name:"Sign Up",path:"/signup"}];var J=function(e){var t=r.useContext(q).user,a=r.useState(null),n=Object(u.a)(a,2),c=n[0],s=n[1],i=r.useContext(P).setError,o="",l="";t&&(o="hidden",l="logout");var d=function(){s(null),i(null)};return Object(m.jsx)(g.a,{theme:Y,children:Object(m.jsx)(A.a,{position:"static",children:Object(m.jsx)(v.a,{maxWidth:"xl",children:Object(m.jsxs)(R.a,{disableGutters:!0,sx:{justifyContent:"space-between"},children:[Object(m.jsx)(y.a,{noWrap:!0,component:"img",sx:{display:{xs:"flex",md:"none"},height:51},alt:"Your logo.",src:"/images/logo-grey.png",className:"logo"}),Object(m.jsx)(y.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},className:o,children:G.map((function(e){return Object(m.jsx)(N.a,{onClick:d,sx:{my:2,color:"#6e6e6e",display:"block"},children:Object(m.jsx)(I.b,{to:e.path,className:"link",children:e.name})},e.name)}))}),Object(m.jsx)(y.a,{sx:{display:{xs:"flex",md:"none"}},className:l,children:t?Object(m.jsx)(z.a,{size:"large",onClick:e.onLogOut,color:"inherit",children:Object(m.jsx)(M.a,{})}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(z.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit",children:Object(m.jsx)(B.a,{})}),Object(m.jsx)(_.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(c),onClose:d,sx:{display:{xs:"block",md:"none"}},children:G.map((function(e){return Object(m.jsx)(W.a,{onClick:d,children:Object(m.jsx)(k.a,{textAlign:"center",children:Object(m.jsx)(I.b,{to:e.path,className:"link",children:e.name})})},e.name)}))})]})})]})})})})},K=Object(r.createContext)();function Q(e){var t=Object(r.useState)(!0),a=Object(u.a)(t,2),n=a[0],c=a[1];return Object(m.jsx)(K.Provider,{value:{fetchingUser:n,setFetchingUser:c},children:e.children})}var X=a(333),Z=a(334),$=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var ee=function(){var e=Object(r.useContext)(q).user,t=Object(d.g)();return Object(r.useEffect)((function(){e&&t("/profile/".concat(e._id))}),[e]),Object(m.jsxs)("div",{className:"landingPage",children:[Object(m.jsxs)("div",{className:"overview",children:[Object(m.jsx)("img",{src:"/images/logo.png",alt:"",className:"landingLogo"}),Object(m.jsxs)("h2",{children:["Your space to create your",Object(m.jsx)("br",{}),"own libraries to have a",Object(m.jsx)("br",{}),"full overview of your books"]})]}),Object(m.jsx)(g.a,{theme:$,children:Object(m.jsxs)("div",{className:"signUpLogIn",children:[Object(m.jsxs)("div",{className:"langindPageBtnDiv",children:[Object(m.jsxs)("p",{className:"landingPageP",children:["New to",Object(m.jsx)("br",{}),"librarize?"]}),Object(m.jsx)(N.a,{variant:"contained",sx:{width:"100%"},children:Object(m.jsx)(I.b,{to:"/signup",className:"landingPageLink",children:"Sign Up"})})]}),Object(m.jsxs)("div",{className:"langindPageBtnDiv",children:[Object(m.jsxs)("p",{className:"landingPageP",children:["Already a",Object(m.jsx)("br",{}),"book lover?"]}),Object(m.jsx)(N.a,{variant:"contained",sx:{width:"100%"},children:Object(m.jsx)(I.b,{to:"/login",className:"landingPageLink",children:"Log In"})})]})]})}),Object(m.jsxs)("div",{className:"about",children:[Object(m.jsx)("h4",{children:"About librarize it"}),Object(m.jsx)("p",{children:"Librarize it is a place for all booklovers to sort and categorise their books. You can create as many libraries as you want and add books to them."}),Object(m.jsx)("p",{children:"Books can be given a personal status (have you already read it or did you just start with it etc.), they can also be rated and reviewed. Browse through all rated books, read the reviews of other users and get inspired."}),Object(m.jsx)("h4",{children:"About me"}),Object(m.jsxs)("p",{children:["My name is Tamara and I just love reading. I wanted to create a place for all bookslovers to have a full overview of their books. Feel free to tell me what you think about it.",Object(m.jsx)("br",{}),Object(m.jsx)("a",{href:"https://github.com/tammidnight/",target:"_blank",rel:"noopener noreferrer",children:Object(m.jsx)(X.a,{sx:{color:"#1bae9f"}})}),Object(m.jsx)("a",{href:"https://https://www.linkedin.com/in/tamara-rott/",target:"_blank",rel:"noopener noreferrer",children:Object(m.jsx)(Z.a,{sx:{color:"#1bae9f"}})})]})]})]})},te=(a(281),a(28)),ae=a(179),re=a(64),ne=a(352),ce=a(335),se=a(175),ie=a.n(se),oe=a(174),le=a.n(oe),de=a(4),ue=a(363),be=a(364);var je,he=function(){var e=Object(r.useContext)(q),t=e.user,a=e.setUser,n=Object(r.useContext)(K),c=n.fetchingUser,s=n.setFetchingUser;return Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(O,"/user"),{withCredentials:!0});case 3:t=e.sent,s(!1),a(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),c||!t?Object(m.jsx)(p,{}):Object(m.jsxs)(ue.a,{sx:{position:"fixed",bottom:0,width:1,backgroundColor:"#dfe6ed",display:"flex",justifyContent:"space-around"},className:"bottomNav",children:[Object(m.jsx)(I.b,{to:"/profile/".concat(t._id,"/library-overview"),children:Object(m.jsx)(be.a,{icon:Object(m.jsx)("img",{src:"/images/library.png",alt:"",className:"bottomNavImg"})})}),Object(m.jsx)(I.b,{to:"/book-overview",children:Object(m.jsx)(be.a,{icon:Object(m.jsx)("img",{src:"/images/books.png",alt:"",className:"bottomNavImg"})})}),Object(m.jsx)(I.b,{to:"/profile/".concat(t._id),children:Object(m.jsx)(be.a,{icon:Object(m.jsx)("img",{src:"/images/user.png",alt:"",className:"bottomNavImg"})})})]})},xe=["label","onDelete"],me=Object(de.a)("div")((function(e){e.theme;return"\n      font-size: 12px;\n    "})),pe=Object(de.a)("label")(je||(je=Object(re.a)(["\n  padding: 0 0 4px;\n  line-height: 1.5;\n  display: block;\n  font-size: 14px;\n"]))),Oe=Object(de.a)("div")((function(e){e.theme;return"\n      width: 300px;\n      border: 1px solid #1bae9f;\n      background-color: #dfe6ed;\n      border-radius: 4px;\n      padding: 1px;\n      display: flex;\n      flex-wrap: wrap;\n    \n      &:hover {\n        border-color: #1bae9f;\n      }\n    \n      &.focused {\n        border-color: #1bae9f;\n      }\n    \n      & input {\n        background-color: #dfe6ed;\n        color: black;\n        height: 30px;\n        box-sizing: border-box;\n        padding: 4px 6px;\n        width: 0;\n        min-width: 30px;\n        flex-grow: 1;\n        border: 0;\n        margin: 0;\n        outline: 0;\n      }\n    "})),fe=Object(de.a)("ul")((function(e){e.theme;return"\n      width: 300px;\n      margin: 2px 0 0;\n      padding: 0;\n      position: absolute;\n      list-style: none;\n      background-color: white;\n      overflow: auto;\n      max-height: 250px;\n      border-radius: 4px;\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n      z-index: 1;\n    \n      & li {\n        padding: 5px 12px;\n        display: flex;\n    \n        & span {\n          flex-grow: 1;\n        }\n    \n        & svg {\n          color: transparent;\n        }\n      }\n    \n      & li[aria-selected='true'] {\n        background-color: white;\n        font-weight: 600;\n    \n        & svg {\n          color: #1890ff;\n        }\n      }\n    \n      & li[data-focus='true'] {\n        background-color: white;\n        cursor: pointer;\n    \n        & svg {\n          color: currentColor;\n        }\n      }\n    "})),ge=["Action and adventure","Alternate history","Anthology","Art/architecture","Autobiography","Biography","Business/economics","Children's","Classic","Comic book","Coming-of-age","Crime","Crafts/hobbies","Cookbook","Dictionary","Drama","Encyclopedia","Fairytale","Fantasy","Graphic novel","Guide","Historical fiction","Horror","Health/fitness","History","Home and garden","Humor","Journal","Math","Memoir","Mystery","Paranormal romance","Picture book","Poetry","Political thriller","Philosophy","Prayer","Religion, spirituality, and new age","Romance","Review","Satire","Science fiction","Short story","Suspense","Science","Self help","Sports and leisure","Textbook","True crime","Travel","Thriller","Western","Young adult"];var ve=function(){var e=Object(r.useContext)(q),t=e.user,a=e.setUser,n=null,c=null,s=null,i=null,u=null,b=Object(r.useContext)(K),j=b.fetchingUser,h=b.setFetchingUser;Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(O,"/user"),{withCredentials:!0});case 3:t=e.sent,h(!1),a(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var f=function(){var e=Object(l.a)(o.a.mark((function e(t,r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.patch("".concat(O,"/favorites"),{label:r},{withCredentials:!0});case 2:n=e.sent,a(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=Object(de.a)((function(e){var t=e.label,a=e.onDelete,r=Object(ae.a)(e,xe);return Object(m.jsxs)("div",Object(te.a)(Object(te.a)({},r),{},{children:[Object(m.jsx)("span",{children:t}),Object(m.jsx)(le.a,{onClick:function(e){a(e),f(e,t)}})]}))}))((function(e){e.theme;return"\n        display: flex;\n        align-items: center;\n        height: 24px;\n        margin: 2px;\n        line-height: 22px;\n        background-color: white;\n        border: 1px solid #8dd7cf;\n        border-radius: 4px;\n        box-sizing: content-box;\n        padding: 0 2px 0 5px;\n        outline: 0;\n        overflow: hidden;\n      \n        &:focus {\n          border-color: #1bae9f;\n          background-color: white;\n        }\n      \n        & span {\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n      \n        & svg {\n          font-size: 12px;\n          cursor: pointer;\n          padding: 4px;\n        }\n      "}));t&&(n=t.username,c=t.createdAt,s=t.libraries,i=t.favorites,u=t.image);var v=Object(ce.a)({id:"customized-hook-demo",defaultValue:i||[ge[0]],multiple:!0,options:ge,getOptionLabel:function(e){return e}}),w=v.getRootProps,y=v.getInputLabelProps,k=v.getInputProps,C=v.getTagProps,N=v.getListboxProps,S=v.getOptionProps,P=v.groupedOptions,L=v.value,D=v.focused,F=v.setAnchorEl,U=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.innerText,e.next=3,x.a.patch("".concat(O,"/favorites"),{newFavorite:r},{withCredentials:!0});case 3:n=e.sent,a(n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){var t=("0"+(e.getMonth()+1)).slice(-2);return("0"+e.getDate()).slice(-2)+"/"+t+"/"+e.getFullYear()}(new Date(c));return t?j?Object(m.jsx)(p,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"profile",children:[u?Object(m.jsx)(ne.a,{alt:"Avatar",src:u,sx:{width:125,height:125},className:"avatar"}):Object(m.jsx)(ne.a,{alt:"Avatar",src:"/images/user.png",sx:{width:125,height:125},className:"avatar"}),Object(m.jsxs)("div",{className:"details",children:[Object(m.jsxs)("h3",{children:["Username: ",n]}),Object(m.jsxs)("h4",{children:["User since: ",T]}),1===s.length?Object(m.jsx)("h4",{children:"1 library"}):Object(m.jsxs)("h4",{children:[s.length," libraries"]}),Object(m.jsxs)(me,{children:[Object(m.jsxs)("div",Object(te.a)(Object(te.a)({},w()),{},{className:"favoritesInput",children:[Object(m.jsx)(pe,Object(te.a)(Object(te.a)({},y()),{},{children:"Favorite Genre/s"})),Object(m.jsxs)(Oe,{ref:F,className:D?"focused":"",children:[L.map((function(e,t){return Object(m.jsx)(g,Object(te.a)({label:e},C({index:t})))})),Object(m.jsx)("input",Object(te.a)({},k()))]})]})),P.length>0?Object(m.jsx)("div",{className:"favoritesInput",children:Object(m.jsx)(fe,Object(te.a)(Object(te.a)({},N()),{},{children:P.map((function(e,t){return Object(m.jsxs)("li",Object(te.a)(Object(te.a)({},S({option:e,index:t})),{},{children:[Object(m.jsx)("span",{onClick:function(e){U(e)},children:e}),Object(m.jsx)(ie.a,{fontSize:"small"})]}))}))}))}):null]})]})]}),Object(m.jsx)(I.b,{to:"/settings",children:Object(m.jsx)("img",{src:"/images/pencil.png",alt:"settings",className:"settings"})}),Object(m.jsx)(I.b,{to:"/create-library",children:Object(m.jsx)("img",{src:"/images/add-library.png",alt:"create-library",className:"addlibrary"})}),Object(m.jsx)(he,{})]}):Object(m.jsx)(d.a,{to:"/"})},we=a(349),ye=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var ke=function(){var e=Object(r.useContext)(q),t=e.user,a=e.setUser,n=Object(r.useContext)(P).error,c=null,s=null,i=null,b=null,j=Object(r.useContext)(K).fetchingUser,h=Object(d.g)(),f=Object(r.useState)(!1),S=Object(u.a)(f,2),I=S[0],L=S[1];t&&(c=t.image),n&&(n.username?s=n.username:n.email?i=n.email:n.password&&(b=n.password));var D=function(){var e=Object(l.a)(o.a.mark((function e(r){var n,c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n={},0!==r.target.image.files.length){e.next=6;break}n={username:r.target.username.value,email:r.target.email.value,password:r.target.password.value,newPassword:r.target.newPassword.value},e.next=12;break;case 6:return(c=new FormData).append("imageUrl",r.target.image.files[0]),e.next=10,x.a.post("".concat(O,"/upload"),c);case 10:s=e.sent,n={username:r.target.username.value,email:r.target.email.value,password:r.target.password.value,newPassword:r.target.newPassword.value,image:s.data.image};case 12:return e.next=14,x.a.patch("".concat(O,"/profile/").concat(t._id),n,{withCredentials:!0});case 14:i=e.sent,a(i.data),h("/profile/".concat(t._id));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("".concat(O,"/profile/").concat(t._id,"/delete"),{withCredentials:!0});case 2:a(null),h("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return j||!t?Object(m.jsx)(p,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(g.a,{theme:ye,children:[Object(m.jsx)("div",{className:"profile",children:Object(m.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(m.jsx)(w.a,{}),Object(m.jsxs)(y.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(m.jsx)(k.a,{component:"h1",variant:"h6",align:"center",children:"Edit your personal information"}),Object(m.jsxs)(y.a,{component:"form",onSubmit:D,noValidate:!0,sx:{mt:1},children:[c?Object(m.jsx)(ne.a,{alt:"Avatar",src:c,sx:{width:125,height:125},className:"editAvatar"}):Object(m.jsx)(ne.a,{alt:"Avatar",src:"/images/user.png",sx:{width:125,height:125},className:"editAvatar"}),Object(m.jsx)(C.a,{margin:"normal",fullWidth:!0,id:"image",name:"image",type:"file"}),Object(m.jsx)(C.a,{margin:"normal",fullWidth:!0,id:"username",label:"Username",name:"username",autoFocus:!0,defaultValue:t.username,helperText:s||"",error:!!s}),Object(m.jsx)(C.a,{margin:"normal",fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",defaultValue:t.email,helperText:i||"",error:!!i}),Object(m.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:b||"",error:!!b}),Object(m.jsx)(C.a,{margin:"normal",fullWidth:!0,name:"newPassword",label:"New Password",type:"password",id:"newPassword",autoComplete:"current-password",helperText:b||"",error:!!b}),Object(m.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,mr:"35%",ml:"35%",width:"30%"},children:"Submit"})]})]})]})}),Object(m.jsx)("img",{src:"/images/garbage.png",alt:"",onClick:function(){L(!I)},className:"delete"}),Object(m.jsx)(we.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:I,onClick:function(){L(!1)},children:Object(m.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},children:[Object(m.jsx)("h3",{children:"Are you sure you want to delete your account?"}),Object(m.jsx)(N.a,{sx:{backgroundColor:"#ac6363",color:"white",width:"25%",mb:2},onClick:F,children:"Delete"})," ",Object(m.jsx)(N.a,{sx:{backgroundColor:"#1bae9f",color:"white",width:"25%"},children:"Back"})]})})]}),Object(m.jsx)(he,{})]})},Ce=(a(73),Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}}));var Ne=function(){var e=Object(r.useContext)(q),t=e.user,a=e.setUser,n=Object(r.useContext)(K).fetchingUser,c=Object(r.useContext)(P),s=c.error,i=c.setError,u=Object(d.g)(),b=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r={title:t.target.title.value,description:t.target.description.value},e.next=5,x.a.post("".concat(O,"/create-library"),r,{withCredentials:!0});case 5:n=e.sent,a(n.data),u("/library/".concat(n.data._id)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),i(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return n||!t?Object(m.jsx)(p,{}):Object(m.jsxs)("div",{children:[Object(m.jsx)(g.a,{theme:Ce,children:Object(m.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(m.jsx)(w.a,{}),Object(m.jsxs)(y.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(m.jsx)(k.a,{component:"h1",variant:"h5",align:"center",children:"Create your own library"}),Object(m.jsx)("img",{src:"/images/library.png",alt:"",className:"library"}),Object(m.jsxs)(y.a,{component:"form",onSubmit:b,noValidate:!0,sx:{mt:1},children:[Object(m.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title of your library",name:"title",autoFocus:!0,helperText:s||"",error:!!s}),Object(m.jsx)(C.a,{margin:"normal",fullWidth:!0,id:"description",label:"Description",multiline:!0}),Object(m.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,mr:"35%",ml:"35%",width:"30%"},children:"Submit"})]})]})]})}),Object(m.jsx)(he,{})]})},Se=Object(r.createContext)();function Ie(e){var t=Object(r.useState)(null),a=Object(u.a)(t,2),n=a[0],c=a[1];return Object(m.jsx)(Se.Provider,{value:{oneLibrary:n,setOneLibrary:c},children:e.children})}var Pe=a(339),Le=a(358),De=a(348),Fe=a(336),Ue=a(337),Te=a(338);var Ae=function(e){return Object(m.jsx)(y.a,{sx:{width:"100%",maxWidth:360},className:"listBox",children:Object(m.jsx)(Le.a,{children:e.booksCopy.map((function(t){return Object(m.jsxs)("div",{children:[Object(m.jsx)(De.a,{disablePadding:!0,children:Object(m.jsx)(I.b,{to:"/library/".concat(e.id,"/book/").concat(t._id),className:"cardLink bookLink",children:Object(m.jsxs)(Fe.a,{children:[Object(m.jsx)(Ue.a,{className:"listImgIcon",children:Object(m.jsx)("img",{src:t.image,alt:"cover",className:"listImg"})}),Object(m.jsx)(Te.a,{primary:t.title,secondary:t.authors})]})})}),Object(m.jsx)(Pe.a,{})]},t._id)}))})})},Re=a(365),ze=a(366),_e=a(367);var We=function(e){return Object(m.jsx)(m.Fragment,{children:e.booksCopy.map((function(t){return Object(m.jsxs)(Re.a,{sx:{width:120,backgroundColor:"#dfe6ed"},className:"card",children:[Object(m.jsx)(ze.a,{component:"img",height:"50",image:t.image,alt:"books"}),Object(m.jsx)(_e.a,{className:"cardContent",children:Object(m.jsxs)(I.b,{to:"/library/".concat(e.id,"/book/").concat(t._id),className:"cardLink bookLink",children:[t.title," ",Object(m.jsx)("br",{})," ",t.authors]})})]},t._id)}))})},Ee=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var Be=function(){var e=Object(d.h)().id,t=Object(d.g)(),a=Object(r.useContext)(Se),n=a.oneLibrary,c=a.setOneLibrary,s=Object(r.useContext)(q),i=s.user,b=s.setUser,j=Object(r.useState)(null),h=Object(u.a)(j,2),f=h[0],v=h[1],w=Object(r.useState)(null),k=Object(u.a)(w,2),S=k[0],P=k[1];Object(r.useEffect)((function(){var t=function(){var t=Object(l.a)(o.a.mark((function t(){var a,r,n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("".concat(O,"/library/").concat(e),{withCredentials:!0});case 2:a=t.sent,c(a.data),r=a.data.books,n=r.map((function(e){return e.author&&(e.author.length>0?e.authors=e.author.join(", "):e.authors=e.author),e})),s=n.sort((function(e,t){var a=e.title,r=t.title;return a<r?-1:a>r?1:0})),v(s),P(s);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var L=Object(r.useState)(!1),D=Object(u.a)(L,2),F=D[0],U=D[1],T=function(){var a=Object(l.a)(o.a.mark((function a(r){var n,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),n={isbn:r.target.isbn.value,library:e},a.prev=2,a.next=5,x.a.post("".concat(O,"/add-book"),n,{withCredentials:!0});case 5:c=a.sent,t("/library/".concat(e,"/book/").concat(c.data._id)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),alert("ISBN not found");case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.patch("".concat(O,"/view"),{grid:!i.grid},{withCredentials:!0});case 2:t=e.sent,b(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n&&f&&S&&i?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"libraryDiv",children:[Object(m.jsxs)("div",{className:"libraryHeader",children:[Object(m.jsx)("img",{src:"/images/library.png",alt:"library",width:"75px"}),Object(m.jsxs)("div",{className:"libraryDetails",children:[Object(m.jsx)("h3",{className:"title",children:n.title}),Object(m.jsx)(I.b,{to:"/library/".concat(e,"/edit"),children:Object(m.jsx)("img",{src:"/images/pencil.png",alt:"pencil",width:"15px",height:"15px"})})]}),Object(m.jsx)("h5",{className:"description",children:n.description}),i.grid?Object(m.jsx)("img",{src:"/images/list.png",alt:"",className:"gridListLibrary",onClick:A}):Object(m.jsx)("img",{src:"/images/grid.png",alt:"",className:"gridListLibrary",onClick:A})]}),Object(m.jsx)(Pe.a,{variant:"middle"}),Object(m.jsx)(g.a,{theme:Ee,children:Object(m.jsx)("div",{className:"textfieldCenter",children:Object(m.jsx)(C.a,{margin:"normal",required:!0,id:"search",label:"Search for title",name:"search",autoFocus:!0,onChange:function(e){var t=e.target.value,a=f.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));P(a)},size:"small",sx:{width:"85vw"}})})}),Object(m.jsx)("div",{className:"books",children:i.grid?Object(m.jsx)(We,{booksCopy:S,id:e}):Object(m.jsx)(Ae,{booksCopy:S,id:e})})]}),Object(m.jsx)("img",{src:"/images/hinzufugen.png",alt:"add-book",className:"addBook",onClick:function(){U(!F)}}),Object(m.jsx)(we.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:F,children:Object(m.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},children:[Object(m.jsx)(g.a,{theme:Ee,children:Object(m.jsxs)(y.a,{component:"form",onSubmit:T,noValidate:!0,sx:{mt:1},children:[Object(m.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"isbn",label:"ISBN",name:"isbn",autoFocus:!0,sx:{backgroundColor:"rgba(223, 230, 237, 0.8)",borderRadius:"0.5rem"}}),Object(m.jsx)(N.a,{type:"submit",sx:{backgroundColor:"#1bae9f",color:"white",width:"30%",mb:2},children:"Search"})]})}),Object(m.jsx)(N.a,{sx:{backgroundColor:"#dfe6ed",color:"black",width:"25%"},onClick:function(){U(!1)},children:"Back"})]})}),Object(m.jsx)(he,{})]}):Object(m.jsx)(p,{})};var Ve=function(e){return Object(m.jsx)(m.Fragment,{children:e.library.map((function(e){return Object(m.jsxs)(Re.a,{sx:{width:100,backgroundColor:"#dfe6ed"},className:"card",children:[Object(m.jsx)(ze.a,{component:"img",height:"75",image:"/images/library.png",alt:"library"}),Object(m.jsxs)(_e.a,{className:"cardContent",children:[Object(m.jsx)(I.b,{to:"/library/".concat(e._id),className:"cardLink",children:Object(m.jsx)(k.a,{children:e.title})}),Object(m.jsx)(I.b,{to:"/library/".concat(e._id,"/edit"),children:Object(m.jsx)("img",{src:"/images/pencil.png",alt:"settings",className:"pencil"})})]})]},e._id)}))})};var Me=function(e){return Object(m.jsx)(y.a,{sx:{width:"100%",maxWidth:360},className:"listBox",children:Object(m.jsx)(Le.a,{children:e.library.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)(De.a,{disablePadding:!0,secondaryAction:Object(m.jsx)(z.a,{edge:"end","aria-label":"delete",children:Object(m.jsx)(I.b,{to:"/library/".concat(e._id,"/edit"),children:Object(m.jsx)("img",{src:"/images/pencil.png",alt:"settings",className:"pencil"})})}),children:Object(m.jsx)(I.b,{to:"/library/".concat(e._id),className:"cardLink bookLink",children:Object(m.jsxs)(Fe.a,{children:[Object(m.jsx)(Ue.a,{className:"listImgIcon",children:Object(m.jsx)("img",{src:"/images/library.png",alt:"library",className:"listImg"})}),Object(m.jsx)(Te.a,{primary:e.title})]})})}),Object(m.jsx)(Pe.a,{})]},e._id)}))})})},qe=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var He=function(){var e=Object(r.useContext)(q),t=e.user,a=e.setUser,n=Object(r.useState)(null),c=Object(u.a)(n,2),s=c[0],i=c[1],d=Object(r.useContext)(K).fetchingUser;Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,x.a.get("".concat(O,"/profile/").concat(t._id),{withCredentials:!0});case 3:a=e.sent,i(a.data.libraries);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var b=function(){var e=Object(l.a)(o.a.mark((function e(){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.patch("".concat(O,"/view"),{grid:!t.grid},{withCredentials:!0});case 2:r=e.sent,a(r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return!d&&t&&s?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g.a,{theme:qe,children:Object(m.jsxs)("div",{className:"libraryDiv",children:[Object(m.jsxs)("h2",{className:"header",children:["Your libraries"," ",t.grid?Object(m.jsx)("img",{src:"/images/list.png",alt:"",className:"gridListLibraryOverview",onClick:b}):Object(m.jsx)("img",{src:"/images/grid.png",alt:"",className:"gridListLibraryOverview",onClick:b})]}),Object(m.jsx)("div",{className:"cardDiv",children:t.grid?Object(m.jsx)(Ve,{library:s}):Object(m.jsx)(Me,{library:s})}),Object(m.jsx)(I.b,{to:"/create-library",children:Object(m.jsx)("img",{src:"/images/add-library.png",alt:"create-library",className:"addlibrary"})})]})}),Object(m.jsx)(he,{})]}):Object(m.jsx)(p,{})},Ye=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var Ge=function(){var e=Object(r.useContext)(q),t=e.user,a=e.setUser,n=Object(r.useContext)(K).fetchingUser,c=Object(r.useContext)(P),s=c.error,i=c.setError,b=Object(r.useState)(null),j=Object(u.a)(b,2),h=j[0],f=j[1],S=Object(d.g)(),I=Object(d.h)().id;Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(O,"/library/").concat(I),{withCredentials:!0});case 2:t=e.sent,f(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var L=Object(r.useState)(!1),D=Object(u.a)(L,2),F=D[0],U=D[1],T=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r={title:t.target.title.value,description:t.target.description.value},e.next=5,x.a.patch("".concat(O,"/library/").concat(I),r,{withCredentials:!0});case 5:n=e.sent,a(n.data.user),S("/library/".concat(n.data._id)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),i(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("".concat(O,"/library/").concat(I,"/delete"),{withCredentials:!0});case 2:S("/profile/".concat(t._id,"/library-overview"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return!n&&t&&h?Object(m.jsxs)("div",{children:[Object(m.jsxs)(g.a,{theme:Ye,children:[Object(m.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(m.jsx)(w.a,{}),Object(m.jsxs)(y.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(m.jsx)(k.a,{component:"h1",variant:"h5",align:"center",children:"Edit your own library"}),Object(m.jsx)("img",{src:"/images/library.png",alt:"",className:"library"}),Object(m.jsxs)(y.a,{component:"form",onSubmit:T,noValidate:!0,sx:{mt:1},children:[Object(m.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title of your library",name:"title",defaultValue:h.title,autoFocus:!0,helperText:s||"",error:!!s}),Object(m.jsx)(C.a,{margin:"normal",fullWidth:!0,id:"description",label:"Description",multiline:!0,defaultValue:h.description}),Object(m.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,mr:"35%",ml:"35%",width:"30%"},children:"Submit"})]})]})]}),Object(m.jsx)("img",{src:"/images/garbage.png",alt:"",onClick:function(){U(!F)},className:"delete"}),Object(m.jsx)(we.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:F,onClick:function(){U(!1)},children:Object(m.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},children:[Object(m.jsx)("h3",{children:"Are you sure you want to delete this library?"}),Object(m.jsx)(N.a,{sx:{backgroundColor:"#ac6363",color:"white",width:"25%",mb:2},onClick:A,children:"Delete"})," ",Object(m.jsx)(N.a,{sx:{backgroundColor:"#1bae9f",color:"white",width:"25%"},children:"Back"})]})})]}),Object(m.jsx)(he,{})]}):Object(m.jsx)(p,{})},Je=(a(135),a(341)),Ke=a(346),Qe=a(357),Xe=a(368),Ze=a(340),$e=a(369),et=a(370),tt=a(344),at=a(371),rt=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var nt=function(e){var t=Object(r.useState)(!1),a=Object(u.a)(t,2),n=a[0],c=a[1],s=function(){c(!1)},i=Object(r.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1];return Object(m.jsxs)(g.a,{theme:rt,children:[Object(m.jsxs)(N.a,{variant:"contained",onClick:function(){c(!0)},size:"small",children:[e.text," review"]})," ",Object(m.jsx)(Xe.a,{open:n,onClose:s,children:Object(m.jsxs)(y.a,{component:"form",onSubmit:e.handleReview,noValidate:!0,children:[Object(m.jsxs)(Ze.a,{children:[e.text," review for ",e.book.title]}),Object(m.jsxs)($e.a,{children:[Object(m.jsx)(C.a,{autoFocus:!0,id:"review",label:"Review",type:"text",fullWidth:!0,variant:"standard",margin:"normal",multiline:!0,defaultValue:e.reviewValue}),Object(m.jsx)(et.a,{control:Object(m.jsx)(tt.a,{}),label:"Make review public",name:"publicReview",id:"publicReview"})]}),Object(m.jsxs)(at.a,{children:[Object(m.jsx)(N.a,{type:"submit",onClick:s,children:"Submit"}),Object(m.jsx)(N.a,{onClick:s,children:"Back"}),e.isSet?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("img",{src:"/images/garbage.png",alt:"",className:"reviewDelete",onClick:function(){d(!l)}}),Object(m.jsx)(we.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:l,onClick:function(){d(!1)},children:Object(m.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},children:[Object(m.jsx)("h3",{children:"Are you sure you want to delete this review?"}),Object(m.jsx)(N.a,{sx:{backgroundColor:"#ac6363",color:"white",width:"25%",mb:2},onClick:function(){e.handleReviewDelete(),s()},children:"Delete"}),Object(m.jsx)(N.a,{sx:{backgroundColor:"#1bae9f",color:"white",width:"25%"},children:"Back"})]})})]}):""]})]})})]})},ct=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var st=function(e){var t=Object(r.useState)(!1),a=Object(u.a)(t,2),n=a[0],c=a[1],s=function(){c(!1)};return Object(m.jsxs)(g.a,{theme:ct,children:[Object(m.jsx)(N.a,{variant:"contained",onClick:function(){c(!0)},size:"small",sx:{fontSize:"10px",mb:"2rem"},children:"Edit author"}),Object(m.jsx)(Xe.a,{open:n,onClose:s,children:Object(m.jsxs)(y.a,{component:"form",onSubmit:e.handleAuthor,noValidate:!0,children:[Object(m.jsxs)(Ze.a,{children:["Edit the author for ",e.book.title]}),Object(m.jsx)($e.a,{children:Object(m.jsx)(C.a,{autoFocus:!0,id:"author",label:"Author",type:"text",fullWidth:!0,variant:"standard",margin:"normal",multiline:!0,defaultValue:e.authorValue})}),Object(m.jsxs)(at.a,{children:[Object(m.jsx)(N.a,{type:"submit",onClick:s,children:"Submit"}),Object(m.jsx)(N.a,{onClick:s,children:"Back"})]})]})})]})},it=["Not started","In progress","Abandoned","Completed"];var ot=function(){var e=Object(r.useContext)(Se),t=e.oneLibrary,a=e.setOneLibrary,n=Object(r.useState)(null),c=Object(u.a)(n,2),s=c[0],i=c[1],b=Object(d.h)(),j=b.id,h=b.libraryId,f=Object(d.g)(),g=Object(r.useState)(null),v=Object(u.a)(g,2),w=v[0],k=v[1],S=Object(r.useState)(null),P=Object(u.a)(S,2),L=P[0],D=P[1],F=Object(r.useState)(null),U=Object(u.a)(F,2),T=U[0],A=U[1],R=Object(r.useState)(null),z=Object(u.a)(R,2),_=z[0],W=z[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(O,"/book/").concat(j),{withCredentials:!0});case 2:return t=e.sent,e.next=5,x.a.get("".concat(O,"/library/").concat(h),{withCredentials:!0});case 5:return r=e.sent,e.next=8,x.a.get("".concat(O,"/book/").concat(j,"/rating"),{withCredentials:!0});case 8:n=e.sent,t.data.author&&W(t.data.author),n.data?(n.data.review&&D(n.data.review.value),n.data.ratingValue?k(n.data.ratingValue):k(0),n.data.status&&A(n.data.status)):k(0),i(t.data),a(r.data);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var E=Object(r.useState)(!1),B=Object(u.a)(E,2),V=B[0],M=B[1],q=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.patch("".concat(O,"/library/").concat(t._id,"/book/").concat(j,"/delete"),{withCredentials:!0});case 2:f("/library/".concat(t._id));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(O,"/book/").concat(j,"/rating"),{ratingValue:a},{withCredentials:!0});case 2:k(a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x.a.post("".concat(O,"/book/").concat(j,"/rating"),{review:t.target.review.value,publicReview:t.target.publicReview.checked},{withCredentials:!0});case 3:D(t.target.review.value);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.patch("".concat(O,"/book/").concat(j,"/review"),{},{withCredentials:!0});case 2:D(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x.a.patch("".concat(O,"/book/").concat(j),{author:t.target.author.value},{withCredentials:!0});case 3:W(t.target.author.value);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(O,"/book/").concat(j,"/rating"),{status:a},{withCredentials:!0});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return s&&s.author&&(s.author.length>0?s.authors=s.author.join(", "):s.authors=s.author),s&&t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"bookDetail",children:[Object(m.jsx)("img",{src:s.image,alt:"",className:"cover"}),Object(m.jsx)("h4",{className:"heading",children:s.title}),Object(m.jsx)("h4",{className:"heading",children:_}),Object(m.jsx)(st,{book:s,authorValue:_,handleAuthor:J}),Object(m.jsx)(Je.a,{disablePortal:!0,id:"status",options:it,size:"small",sx:{width:200},className:"statusInput",defaultValue:T,renderInput:function(e){return Object(m.jsx)(C.a,Object(te.a)(Object(te.a)({},e),{},{label:"Status"}))},onChange:function(e,t){K(e,t)}}),Object(m.jsxs)("h5",{children:[s.isbn13?Object(m.jsxs)(m.Fragment,{children:["ISBN: ",s.isbn13]}):Object(m.jsxs)(m.Fragment,{children:["ISBN: ",s.isbn10]}),Object(m.jsx)("br",{}),"Pages: ",s.pages,Object(m.jsx)("br",{}),"Published: ",s.published,Object(m.jsx)("br",{}),s.description?Object(m.jsxs)(m.Fragment,{children:["Description: ",s.description]}):""]}),Object(m.jsx)(Ke.a,{name:"simple-controlled",value:w,onChange:function(e,t){H(e,t)},className:"booksRating"}),Object(m.jsx)("br",{}),L?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Qe.a,{elevation:3,sx:{backgroundColor:"#dfe6ed",width:"70%"},className:"paper",children:L}),Object(m.jsx)(nt,{book:s,text:"Edit your",handleReview:Y,reviewValue:L,handleReviewDelete:G,isSet:"true"})]}):Object(m.jsx)(nt,{book:s,text:"Write a",handleReview:Y})]}),Object(m.jsx)(I.b,{to:"/library/".concat(t._id),children:Object(m.jsx)("img",{src:"/images/left-arrow.png",alt:"back",className:"back"})}),Object(m.jsx)("img",{src:"/images/garbage.png",alt:"",onClick:function(){M(!V)},className:"delete"}),Object(m.jsx)(we.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:V,onClick:function(){M(!1)},children:Object(m.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},children:[Object(m.jsxs)("h3",{children:["Are you sure you want to delete this book from ",t.title,"?"]}),Object(m.jsx)(N.a,{sx:{backgroundColor:"#ac6363",color:"white",width:"25%",mb:2},onClick:q,children:"Delete"}),Object(m.jsx)(N.a,{sx:{backgroundColor:"#1bae9f",color:"white",width:"25%"},children:"Back"})]})}),Object(m.jsx)(he,{})]}):Object(m.jsx)(p,{})};var lt=function(e){return Object(m.jsx)(y.a,{sx:{width:"100%",maxWidth:360},className:"listBox",children:Object(m.jsx)(Le.a,{children:e.books.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)(De.a,{disablePadding:!0,children:Object(m.jsx)(I.b,{to:"/book/".concat(e._id),className:"cardLink bookLink",children:Object(m.jsxs)(Fe.a,{children:[Object(m.jsx)(Ue.a,{className:"listImgIcon",children:Object(m.jsx)("img",{src:e.book[0].image,alt:"cover",className:"listImg"})}),Object(m.jsx)(Te.a,{primary:e.book[0].title,secondary:e.book[0].authors})]})})}),Object(m.jsx)(Pe.a,{})]},e._id)}))})})};var dt=function(e){return Object(m.jsx)(m.Fragment,{children:e.books.map((function(e){return Object(m.jsxs)(Re.a,{sx:{width:120,backgroundColor:"#dfe6ed"},className:"card",children:[Object(m.jsx)(ze.a,{component:"img",height:"50",image:e.book[0].image,alt:"cover"}),Object(m.jsx)(_e.a,{className:"cardContent",children:Object(m.jsxs)(I.b,{to:"/book/".concat(e._id),className:"cardLink bookLink",children:[e.book[0].title," ",Object(m.jsx)("br",{})," ",e.book[0].authors]})})]},e._id)}))})};var ut=function(){var e=Object(r.useContext)(q),t=e.user,a=e.setUser,n=Object(r.useState)(null),c=Object(u.a)(n,2),s=c[0],i=c[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(O,"/book-overview"),{withCredentials:!0});case 2:t=e.sent,a=t.data,r=a.map((function(e){return e.book[0].author&&(e.book[0].author.length>0?e.book[0].authors=e.book[0].author.join(", "):e.book[0].authors=e.book[0].author),e})),n=r.sort((function(e,t){var a=e.avgRating,r=t.avgRating;return a<r?1:a>r?-1:0})),i(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var d=function(){var e=Object(l.a)(o.a.mark((function e(){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.patch("".concat(O,"/view"),{grid:!t.grid},{withCredentials:!0});case 2:r=e.sent,a(r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s&&t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"bookOverviewDiv",children:[Object(m.jsxs)("h2",{className:"bookHeader",children:["Top rated books"," ",t.grid?Object(m.jsx)("img",{src:"/images/list.png",alt:"",className:"gridList",onClick:d}):Object(m.jsx)("img",{src:"/images/grid.png",alt:"",className:"gridList",onClick:d})]}),Object(m.jsx)("div",{className:"bookDiv",children:t.grid?Object(m.jsx)(dt,{books:s}):Object(m.jsx)(lt,{books:s})})]}),Object(m.jsx)(he,{})]}):Object(m.jsx)(p,{})},bt=a(347),jt=a(372),ht=a(373),xt=a(345),mt=a(176),pt=a.n(mt),Ot=function(e){var t=("0"+(e.getMonth()+1)).slice(-2);return("0"+e.getDate()).slice(-2)+"/"+t+"/"+e.getFullYear()},ft=Object(f.a)({palette:{background:{default:"#c3cfd9"},primary:{main:"#1bae9f",contrastText:"white"}},typography:{fontFamily:"M PLUS Rounded 1c, sans-serif"}});var gt=function(){var e=Object(r.useContext)(q).user,t=Object(r.useState)([]),a=Object(u.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)([]),i=Object(u.a)(s,2),b=i[0],j=i[1],h=Object(r.useState)(0),f=Object(u.a)(h,2),v=f[0],w=f[1],C=Object(r.useState)([]),S=Object(u.a)(C,2),P=S[0],L=S[1],D=Object(d.h)().id;Object(r.useEffect)((function(){var t=function(){var t=Object(l.a)(o.a.mark((function t(){var a,r,n,s,i,l,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=14;break}return t.next=3,x.a.get("".concat(O,"/libraries/").concat(e._id,"/").concat(D),{withCredentials:!0});case 3:return a=t.sent,t.next=6,x.a.get("".concat(O,"/book/").concat(D),{withCredentials:!0});case 6:return r=t.sent,t.next=9,x.a.get("".concat(O,"/book/").concat(D,"/review"),{withCredentials:!0});case 9:n=t.sent,r.data.author&&(r.data.author.length>0?r.data.authors=r.data.author.join(", "):r.data.authors=r.data.author),1===n.data.length?(w(n.data[0].ratingValue),n.data[0].review&&(n.data[0].review.createdDate=Ot(new Date(n.data[0].review.created)),n.data[0].user?n.data[0].review.publicReview?n.data[0].review.user=n.data[0].user.username:n.data[0].review.publicReview||(n.data[0].review.user="Anonymous"):n.data[0].review.user="Deleted Account",j([n.data[0].review]))):(s=[],i=[],n.data.forEach((function(e){s.push(e.ratingValue),e.review&&(e.review.createdDate=Ot(new Date(e.review.created)),e.user?e.review.publicReview?e.review.user=e.user.username:e.review.publicReview||(e.review.user="Anonymous"):e.review.user="Deleted Account",i.push(e.review))})),l=s.reduce((function(e,t){return e+t}),0),d=l/s.length,w(d),j(i)),c(a.data),L(r.data);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var F=Object(r.useState)(!1),U=Object(u.a)(F,2),T=U[0],A=U[1],R=function(){A(!1)},z=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={isbn:P.isbn13||P.isbn10,library:t.target.library.value},e.next=4,x.a.post("".concat(O,"/add-book"),a,{withCredentials:!0});case 4:R();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return e&&n&&P?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"bookDetail",children:[Object(m.jsx)("img",{src:P.image,alt:"",className:"cover"}),Object(m.jsx)("h4",{className:"heading",children:P.title}),Object(m.jsx)("h4",{className:"heading",children:P.authors}),Object(m.jsxs)("h5",{children:[P.isbn13?Object(m.jsxs)(m.Fragment,{children:["ISBN: ",P.isbn13]}):Object(m.jsxs)(m.Fragment,{children:["ISBN: ",P.isbn10]}),Object(m.jsx)("br",{}),"Pages: ",P.pages,Object(m.jsx)("br",{}),"Published: ",P.published,Object(m.jsx)("br",{}),P.description?Object(m.jsxs)(m.Fragment,{children:["Description: ",P.description]}):""]}),Object(m.jsx)(Ke.a,{name:"simple-controlled",value:v,className:"booksRating"}),Object(m.jsx)("br",{}),Object(m.jsxs)(bt.a,{sx:{backgroundColor:"#dfe6ed"},children:[Object(m.jsx)(jt.a,{expandIcon:Object(m.jsx)(pt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(m.jsx)(k.a,{children:"Reviews"})}),Object(m.jsx)(ht.a,{sx:{pl:"0",pr:"0"},children:b.map((function(e,t){return Object(m.jsxs)(Qe.a,{elevation:1,sx:{backgroundColor:"#c3cfd9",borderRadius:"0"},className:"paper",children:[e.user," wrote on ",e.createdDate,":",Object(m.jsx)("br",{}),e.value]},t)}))})]})]}),Object(m.jsx)(I.b,{to:"/book-overview",children:Object(m.jsx)("img",{src:"/images/left-arrow.png",alt:"back",className:"back"})}),Object(m.jsx)("img",{src:"/images/hinzufugen.png",alt:"add-book",className:"addBook",onClick:function(){A(!T)}}),Object(m.jsx)(we.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:T,children:Object(m.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},children:[Object(m.jsx)(g.a,{theme:ft,children:Object(m.jsxs)(y.a,{component:"form",onSubmit:z,noValidate:!0,sx:{mt:1},children:[Object(m.jsx)(k.a,{sx:{color:"black",backgroundColor:"rgba(223, 230, 237, 0.8)",borderRadius:"0.5rem",mb:"1rem"},children:"Select a library to add"}),Object(m.jsx)(xt.a,{id:"library",label:"Library",name:"library",sx:{width:"50vw",mb:"1rem",backgroundColor:"rgba(223, 230, 237, 0.8)",borderRadius:"0.5rem"},children:n.map((function(e){return Object(m.jsx)(W.a,{value:e._id,children:e.title},e._id)}))}),Object(m.jsx)("br",{}),Object(m.jsx)(N.a,{type:"submit",sx:{backgroundColor:"#1bae9f",color:"white",width:"30%",mb:2},children:"Add"})]})}),Object(m.jsx)(N.a,{sx:{backgroundColor:"#dfe6ed",color:"black",width:"25%"},onClick:R,children:"Back"})]})}),Object(m.jsx)(he,{})]}):Object(m.jsx)(p,{})};a(166);var vt=function(){return Object(m.jsxs)("div",{className:"error",children:[Object(m.jsx)("h1",{children:"404 page not found"}),Object(m.jsx)("h2",{children:"Oh no you were so focused on reading, that you wanted to enter a non existing path."}),Object(m.jsxs)("h2",{children:["Please go back"," ",Object(m.jsx)(I.b,{to:"/",className:"errorLink",children:"here"})]}),Object(m.jsx)("img",{src:"/images/open-book.png",alt:"",className:"errorImg"})]})};var wt=function(){return Object(m.jsxs)("div",{className:"error",children:[Object(m.jsx)("img",{src:"/images/open-book.png",alt:"",className:"errorImg"}),Object(m.jsx)("h1",{className:"errorH",children:"500 internal error"}),Object(m.jsx)("h2",{children:"Our developers might be reading too much..."})]})};var yt=function(){var e=Object(r.useContext)(q).setUser,t=Object(r.useContext)(P).setError,a=Object(r.useContext)(K),n=a.fetchingUser,c=a.setFetchingUser,s=Object(d.g)();Object(r.useEffect)((function(){var t=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("".concat(O,"/user"),{withCredentials:!0});case 3:a=t.sent,c(!1),e(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),c(!1);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var i=function(){var a=Object(l.a)(o.a.mark((function a(r){var n,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,n={username:r.target.username.value,email:r.target.email.value,password:r.target.password.value,confirmPassword:r.target.confirmPassword.value},a.next=5,x.a.post("".concat(O,"/signup"),n,{withCredentials:!0});case 5:c=a.sent,e(c.data),t(null),s("/profile/".concat(c.data._id)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),a.t0.response.data.error?a.t0.response.data.error.username?t({username:a.t0.response.data.error.username}):a.t0.response.data.error.email&&t({password:a.t0.response.data.error.email}):a.t0.response.data.username?t({username:a.t0.response.data.username}):a.t0.response.data.email?t({email:a.t0.response.data.email}):a.t0.response.data.password&&t({password:a.t0.response.data.password});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}(),u=function(){var a=Object(l.a)(o.a.mark((function a(r){var n,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,n={username:r.target.username.value,password:r.target.password.value},a.next=5,x.a.post("".concat(O,"/login"),n,{withCredentials:!0});case 5:c=a.sent,e(c.data),t(null),s("/profile/".concat(c.data._id)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),a.t0.response.data.error?"Username does not exist"===a.t0.response.data.error?t({username:"Username does not exist"}):"Passwords don't match"===a.t0.response.data.error&&t({password:"Passwords don't match"}):a.t0.response.data.username?t({username:a.t0.response.data.username}):a.t0.response.data.password&&t({password:a.t0.response.data.password});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}(),b=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.post("".concat(O,"/logout"),{},{withCredentials:!0});case 2:e(null),s("/");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n?Object(m.jsx)(p,{}):Object(m.jsxs)("div",{children:[Object(m.jsx)(J,{onLogOut:b}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{path:"/",element:Object(m.jsx)(ee,{})}),Object(m.jsx)(d.b,{path:"/signup",element:Object(m.jsx)(F,{onSignUp:i})}),Object(m.jsx)(d.b,{path:"/login",element:Object(m.jsx)(T,{onLogIn:u})}),Object(m.jsx)(d.b,{path:"/profile/:id",element:Object(m.jsx)(ve,{})}),Object(m.jsx)(d.b,{path:"/settings",element:Object(m.jsx)(ke,{})}),Object(m.jsx)(d.b,{path:"/create-library",element:Object(m.jsx)(Ne,{})}),Object(m.jsx)(d.b,{path:"/profile/:id/library-overview",element:Object(m.jsx)(He,{})}),Object(m.jsx)(d.b,{path:"/library/:id",element:Object(m.jsx)(Be,{})}),Object(m.jsx)(d.b,{path:"/library/:id/edit",element:Object(m.jsx)(Ge,{})}),Object(m.jsx)(d.b,{path:"/library/:libraryId/book/:id",element:Object(m.jsx)(ot,{})}),Object(m.jsx)(d.b,{path:"/book-overview",element:Object(m.jsx)(ut,{})}),Object(m.jsx)(d.b,{path:"/book/:id",element:Object(m.jsx)(gt,{})}),Object(m.jsx)(d.b,{path:"/500",element:Object(m.jsx)(wt,{})}),Object(m.jsx)(d.b,{path:"*",element:Object(m.jsx)(vt,{})})]})]})};s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(I.a,{children:Object(m.jsx)(H,{children:Object(m.jsx)(Q,{children:Object(m.jsx)(L,{children:Object(m.jsx)(Ie,{children:Object(m.jsx)(yt,{})})})})})})}),document.getElementById("root"))},73:function(e,t,a){}},[[282,1,2]]]);
//# sourceMappingURL=main.c34b81dc.chunk.js.map